(this.webpackJsonpairbnb=this.webpackJsonpairbnb||[]).push([[0],{479:function(e,t,n){},482:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),r=n(28),a=n.n(r),i=n(21),o=n(99),l=n(220),d=n(4),u={stays:[],isMobileSearch:!1};var h=n(22),j={orders:[],currOrder:null,isMobileSearch:!1};var p=n(222),b=n.n(p),f=function(){var e=null,t={setup:function(){e=b()("")},on:function(t,n){e.on(t,n)},off:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(n?e.off(t,n):e.removeAllListeners(t))},emit:function(t,n){e.emit(t,n)},terminate:function(){e=null}};return t}();window.socketService=f,f.setup(),f.on("review-about-you",(function(e){}));var m=n(5),x=n.n(m),O=n(14),v=n(223),g="/api/",y=n.n(v).a.create({withCredentials:!0}),k=function(e,t){return S(e,"GET",t)},w=function(e,t){return S(e,"POST",t)},N=function(e,t){return S(e,"PUT",t)},C=function(e,t){return S(e,"DELETE",t)};function S(e){return M.apply(this,arguments)}function M(){return M=Object(O.a)(x.a.mark((function e(t){var n,s,c,r=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"GET",s=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,y({url:"".concat(g).concat(t),method:n,data:s,params:"GET"===n?s:null});case 5:return c=e.sent,e.abrupt("return",c.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(s)),console.dir(e.t0),e.t0.response&&e.t0.response.status,e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),M.apply(this,arguments)}var L,P="loggedinUser",A={login:function(e){return D.apply(this,arguments)},logout:function(){return B.apply(this,arguments)},signup:function(e){return R.apply(this,arguments)},getLoggedinUser:E,getUsers:function(){return k("user")},getById:function(e){return T.apply(this,arguments)},remove:function(e){return C("user/".concat(e))},update:function(e){return I.apply(this,arguments)},getDemoUser:function(){return{username:"Demouser",password:"Demouser"}}};function T(){return(T=Object(O.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("user/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("user/".concat(t._id),t);case 2:return E()._id===t._id&&z(t),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(O.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("auth/login",t);case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",z(n));case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function R(){return(R=Object(O.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w("auth/signup",t);case 3:return n=e.sent,e.abrupt("return",z(n));case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function B(){return(B=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.removeItem(P),e.next=3,w("auth/logout");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return sessionStorage.setItem(P,JSON.stringify(e)),e}function E(){return JSON.parse(sessionStorage.getItem(P)||"null")}window.userService=A;var U={users:[],loggedInUser:function(){var e=A.getLoggedinUser()||null;e&&f.emit("on-login",e._id);return e}(),msg:null,notifications:(null===(L=A.getLoggedinUser())||void 0===L?void 0:L.notifications)||{trips:0,orders:0}};var F={assets:[]};var H=Object(o.b)({stayReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STAYS":return Object(d.a)(Object(d.a)({},e),{},{stays:t.stays});case"FILTER_STAYS":var n=t.filterBy,s=n.price,c=n.propertyTypes,r=c.types,a=c.isRemoveType;if(s){var i=s.minPrice,o=s.maxPrice;if(i||o)return Object(d.a)(Object(d.a)({},e),{},{stays:e.stays.filter((function(e){return e.price>=i&&e.price<=o}))})}if(r)return a?Object(d.a)(Object(d.a)({},e),{},{stays:e.stays.filter((function(e){return e.type!==r[0]}))}):Object(d.a)(Object(d.a)({},e),{},{stays:e.stays.filter((function(e){for(var t=0;t<r.length;t++)return e.type===r[t]}))});default:return Object(d.a)({},e)}},orderReducer:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ORDER":case"UPDATE_ORDER":return Object(d.a)(Object(d.a)({},t),{},{currOrder:n.order});case"ADD_ORDER":return Object(d.a)(Object(d.a)({},t),{},{orders:[n.order].concat(Object(h.a)(t.orders))});case"LOAD_ORDERS":return Object(d.a)(Object(d.a)({},t),{},{orders:n.orders});case"UPDATE_STATUS_ORDER":return e=t.orders.map((function(e){return e._id===n.order._id?n.order:e})),Object(d.a)(Object(d.a)({},t),{},{orders:e});case"REMOVE_ORDER":return e=t.orders.filter((function(e){return e._id!==n.orderId})),Object(d.a)(Object(d.a)({},t),{},{orders:e});case"TOGGLE_PAGE":return Object(d.a)(Object(d.a)({},t),{},{isMobileSearch:!t.isMobileSearch});default:return Object(d.a)({},t)}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"UPDATE_USER":return Object(d.a)(Object(d.a)({},e),{},{loggedInUser:t.user});case"ADD_USER":return Object(d.a)(Object(d.a)({},e),{},{users:[].concat(Object(h.a)(e.users),[t.user])});case"UPDATE_NOTIFICATION":return Object(d.a)(Object(d.a)({},e),{},{notifications:t.notifications});case"SET_MSG":return Object(d.a)(Object(d.a)({},e),{},{msg:t.msg});default:return Object(d.a)({},e)}},hostReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ASSETS":return Object(d.a)(Object(d.a)({},e),{},{assets:t.assets});case"ADD_ASSET":return Object(d.a)(Object(d.a)({},e),{},{assets:[t.asset].concat(Object(h.a)(e.asset))});default:return Object(d.a)({},e)}}}),G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,_=Object(o.d)(H,G(Object(o.a)(l.a))),W=n(23),V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,550)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),r(e),a(e)}))},q=n(7),Q=n(8),X=n(13),Y=n(12),K=n(18),J=n(0),Z=function(e){var t=e.className;return Object(J.jsx)("svg",{className:t,viewBox:"0 0 50 50",width:"50px",height:"50px",children:Object(J.jsx)("path",{d:"M 25 3 C 22.278263 3 19.522066 4.4268292 18.099609 7.2148438 C 15.093409 13.052195 11.903343 19.320627 9.3828125 24.386719 C 8.1223752 26.92011 7.0290661 29.153447 6.2089844 30.884766 C 5.3889026 32.616084 4.861567 33.764956 4.6464844 34.451172 L 4.6445312 34.453125 L 4.6445312 34.455078 C 4.3577186 35.38722 4.0507812 36.481126 4.0507812 37.710938 C 4.0507781 42.832327 8.2305224 47 13.359375 47 C 19.03288 47 23.036205 42.461271 24.912109 40.310547 L 25 40.423828 L 25.087891 40.310547 C 26.963795 42.461271 30.96712 47 36.640625 47 C 41.769478 47 45.949219 42.832422 45.949219 37.710938 C 45.949219 36.481125 45.642282 35.38722 45.355469 34.455078 L 45.355469 34.453125 L 45.353516 34.451172 C 45.13848 33.76505 44.611097 32.616084 43.791016 30.884766 C 42.970934 29.153447 41.877624 26.92011 40.617188 24.386719 C 38.096657 19.320627 34.906591 13.052195 31.900391 7.2148438 L 31.898438 7.2128906 C 30.475651 4.4265424 27.720912 3 25 3 z M 25 5 C 27.038263 5 29.041597 6.0130146 30.119141 8.125 L 30.119141 8.1269531 L 30.121094 8.1269531 C 33.124534 13.958924 36.314 20.224126 38.828125 25.277344 C 40.085188 27.803952 41.173832 30.029053 41.984375 31.740234 C 42.793941 33.449352 43.342474 34.724209 43.443359 35.044922 C 43.716547 35.93278 43.949219 36.820748 43.949219 37.710938 C 43.949172 41.749456 40.691772 45 36.640625 45 C 32.064075 45 28.191648 40.852578 26.308594 38.748047 L 27.367188 37.394531 C 29.069161 35.216293 32 31.089972 32 26.958984 C 32 23.127032 28.847531 20 25 20 C 21.152469 20 18 23.127032 18 26.958984 C 18 31.099428 20.931726 35.222186 22.632812 37.396484 L 23.691406 38.75 C 21.80799 40.854873 17.935204 45 13.359375 45 C 9.3082276 45 6.0507813 41.749453 6.0507812 37.710938 C 6.0507812 36.820749 6.2834534 35.93278 6.5566406 35.044922 C 6.6575261 34.724209 7.2060594 33.449352 8.015625 31.740234 C 8.8261683 30.029053 9.9148123 27.803952 11.171875 25.277344 C 13.686 20.224126 16.875466 13.958924 19.878906 8.1269531 L 19.880859 8.1269531 L 19.880859 8.125 C 20.958356 6.0130146 22.961737 5 25 5 z M 25 22 C 27.770469 22 30 24.218937 30 26.958984 C 30 30.069996 27.391041 34.116301 25.791016 36.164062 L 25 37.177734 L 24.207031 36.164062 C 22.608118 34.120362 20 30.082541 20 26.958984 C 20 24.218937 22.229531 22 25 22 z"})})},$=n(15),ee=n(20),te=n(19),ne=n.p+"static/media/tel-aviv-yafo.24af19f4.jpg",se=n.p+"static/media/london.85225272.jpg",ce=n.p+"static/media/paris.b8dbc6a0.jpg",re=n.p+"static/media/barcelona.f0360b92.jpg",ae=n.p+"static/media/bali.96e37270.jpg",ie=n.p+"static/media/new york.ed1f88f7.jpg",oe=n.p+"static/media/hong kong.6422e743.jpg",le=n.p+"static/media/bangkok.f9fefa19.jpg",de=n.p+"static/media/outdoor.745432f6.jpg",ue=n.p+"static/media/pets.bfd305d0.jpg",he=n.p+"static/media/unique.f68e06e5.jpg",je=n.p+"static/media/home.6db1810d.jpg",pe={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},makeLorem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=["The sky","above","the port","was","the color of television","tuned","to","a dead channel",".","All","this happened","more or less",".","I","had","the story","bit by bit","from various people","and","as generally","happens","in such cases","each time","it","was","a different story",".","It","was","a pleasure","to","burn"],n="";for(;e>0;)e--,n+=t[Math.floor(Math.random()*t.length)]+" ";return n},getRandomIntInclusive:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(t){setTimeout(t,e)}))},makeQueryParams:function e(t){var n=Object.entries(t).reduce((function(t,n,s,c){var r=Object(te.a)(n,2),a=r[0],i=r[1];return t+="object"===typeof i?e(i):a+"="+i,s<c.length-1&&(t+="&"),t}),"");return n},HomePageImgPopular:function(){return[{city:"Tel Aviv",country:"Israel",img:ne},{city:"London",country:"England",img:se},{city:"Bangkok",country:"Thailand",img:le},{city:"Paris",country:"France",img:ce},{city:"Bali",country:"Indonesia",img:ae},{city:"New York",country:"United States of America",img:ie},{city:"Barcelona",country:"Spain",img:re},{city:"Hong Kong",country:"China",img:oe}]},HomePageImgLabels:function(){return[{value:"outdoor",label:"Outdoor getaways",img:de},{value:"unique",label:"Unique Stays",img:he},{value:"home",label:"Entires homes",img:je},{value:"pets",label:"Pets Allowd",img:ue}]},getQueryParams:function(e){var t,n={},s=Object(ee.a)(e);try{for(s.s();!(t=s.n()).done;){var c=Object(te.a)(t.value,2),r=c[0],a=c[1];"adult"===r&&(n.guests={}),"adult"===r||"child"===r||"infant"===r?n.guests[r]=+a:n[r]=a}}catch(i){s.e(i)}finally{s.f()}return n},makeEmptyOrder:function(){return{address:"",checkIn:"",checkOut:"",guests:{adult:0,child:0,infant:0}}}};var be={query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e?"?"+pe.makeQueryParams(e):"";return k("stay".concat(t))},getById:function(e){return fe.apply(this,arguments)}};function fe(){return(fe=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",k("stay/".concat(t)));case 4:throw e.prev=4,e.t0=e.catch(0),e.t0;case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}var me=n(226),xe=(n(321),n(322),function(e){var t=e.order,n=e.handlePickingDates,c=e.preventPropagation,r=e.className,a=void 0===r?"":r,i=Object(s.useState)([{startDate:t.checkIn?new Date(t.checkIn):new Date,endDate:t.checkOut?new Date(t.checkOut):null,key:"selection"}]),o=Object(te.a)(i,2),l=o[0],d=o[1];return Object(s.useEffect)((function(){n(l[0].startDate,l[0].endDate)}),[l]),Object(J.jsx)("div",{className:"".concat(a," wide"),onClick:c,children:Object(J.jsx)(me.DateRange,{editableDateInputs:!0,onChange:function(e){return d([e.selection])},moveRangeOnFirstSelection:!1,ranges:l})})}),Oe=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"12px",width:"12px",stroke:"currentcolor",strokeWidth:"5.33333",overflow:"visible"},children:Object(J.jsx)("path",{d:"m2 16h28m-14-14v28"})})},ve=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"12px",width:"12px",stroke:"currentcolor",strokeWidth:5.33333,overflow:"visible"},children:Object(J.jsx)("path",{d:"m2 16h28"})})},ge=n(37),ye=n.n(ge),ke=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={adult:null,child:0,infant:0,screenWidth:window.innerWidth},e.updateCount=function(t,n){t.stopPropagation(),t.preventDefault();var s,c,r=e.state,a=r.adult,i=r.child,o=r.infant;switch(n){case"add adult":if(!(a<16))return;s="adult",c=a+1;break;case"subtract adult":if(0===a)return;s="adult",c=a-1;break;case"add child":if(!(i<5))return;s="child",c=i+1;break;case"subtract child":if(0===i)return;s="child",c=i-1;break;case"add infant":if(!(o<5))return;s="infant",c=o+1;break;case"subtract infant":if(0===o)return;s="infant",c=o-1}e.setState(Object($.a)({},s,c)),e.props.handleGuestsChanege(s,c)},e.preventPropagation=function(e){e.stopPropagation()},e.onClearInputs=function(){e.setState({adult:0,child:0,infant:0},(function(){e.props.onClearInputs("guest")}))},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResizeScreen),this.props.order?this.setState(this.props.currOrder.guests):this.setState({adult:0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeScreen)}},{key:"render",value:function(){var e=this,t=this.state,n=t.adult,s=t.child,c=t.infant,r=t.screenWidth;return null===n?Object(J.jsx)("div",{className:"flex align-center justify-center full",children:Object(J.jsx)(ye.a,{type:"ThreeDots",color:"#FF385C",height:100,width:100})}):Object(J.jsxs)("section",{className:"guests-container flex column",onClick:this.preventPropagation,children:[Object(J.jsxs)("div",{className:"guest-card flex",children:[Object(J.jsxs)("div",{className:"flex column",children:[Object(J.jsx)("span",{className:"medium fs16 clr2",children:"Adults:"}),Object(J.jsx)("span",{className:"book fs14 clr1 ",children:"Aged 13 or above"})]}),Object(J.jsxs)("div",{className:"counter-container flex",children:[Object(J.jsx)("button",{onClick:function(t){return e.updateCount(t,"subtract adult")},className:0===n?"btn-counter flex fade":"btn-counter flex",children:Object(J.jsx)("span",{children:Object(J.jsx)(ve,{})})}),Object(J.jsx)("span",{children:n}),Object(J.jsx)("button",{onClick:function(t){return e.updateCount(t,"add adult")},className:"btn-counter flex",children:Object(J.jsx)("span",{children:Object(J.jsx)(Oe,{})})})]})]}),Object(J.jsxs)("div",{className:"guest-card flex",children:[Object(J.jsxs)("div",{className:"flex column",children:[Object(J.jsx)("span",{className:"medium fs16 clr2",children:"Children:"}),Object(J.jsx)("span",{className:"book fs14 clr1 ",children:"Ages 2-12"})]}),Object(J.jsxs)("div",{className:"counter-container flex",children:[Object(J.jsx)("button",{onClick:function(t){return e.updateCount(t,"subtract child")},className:0===s?"btn-counter flex fade":"btn-counter flex",children:Object(J.jsx)(ve,{})}),Object(J.jsx)("span",{children:s}),Object(J.jsx)("button",{onClick:function(t){return e.updateCount(t,"add child")},className:"btn-counter flex",children:Object(J.jsx)("span",{children:Object(J.jsx)(Oe,{})})})]})]}),Object(J.jsxs)("div",{className:"guest-card flex",children:[Object(J.jsxs)("div",{className:"flex column",children:[Object(J.jsx)("span",{className:"medium fs16 clr2",children:"Infants:"}),Object(J.jsx)("span",{className:"book fs14 clr1 ",children:"Under 2"})]}),Object(J.jsxs)("div",{className:"counter-container flex",children:[Object(J.jsx)("button",{onClick:function(t){return e.updateCount(t,"subtract infant")},className:0===c?"btn-counter flex fade":"btn-counter flex",children:Object(J.jsx)(ve,{})}),Object(J.jsx)("span",{children:c}),Object(J.jsx)("button",{onClick:function(t){return e.updateCount(t,"add infant")},className:"btn-counter flex",children:Object(J.jsx)("span",{children:Object(J.jsx)(Oe,{})})})]})]}),r<450&&Object(J.jsx)("button",{type:"button",className:"btn-clear",onClick:this.onClearInputs,children:"clear"})]})}}]),n}(c.a.Component);var we=Object(i.b)((function(e){return{currOrder:e.orderReducer.currOrder}}))(Object(K.f)(ke)),Ne={save:function(e){return e._id?N("order",e):(delete e._id,w("order",e))},query:function(e){var t=e._id;return"user"===e.type?k("order?user=".concat(t)):k("order?host=".concat(t))},remove:function(e){return C("order/".concat(e))}};function Ce(e){try{return function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne.query(e);case 2:return s=t.sent,n({type:"LOAD_ORDERS",orders:s}),t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){throw console.log("err",t),t}}function Se(e){try{return function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne.save(e);case 2:s=t.sent,n({type:"SET_ORDERS",order:s});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){throw console.log("err",t),t}}function Me(e){try{return function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"UPDATE_ORDER",order:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){throw console.log("err",t),t}}function Le(e){try{return function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_ORDER",order:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){throw console.log("err",t),t}}function Pe(){return function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"TOGGLE_PAGE"})}catch(n){console.log("err",n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Ae=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"18px",width:"18px",stroke:"white",strokeWidth:"4",overflow:"visible"},children:Object(J.jsx)("g",{fill:"none",children:Object(J.jsx)("path",{d:"m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9"})})})};var Te={onSetOrder:Le},Ie=Object(i.b)((function(e){return e}),Te)(Object(K.f)((function(e){var t=e.link,n=e.idx,s=e.onImgClick,c={address:t.city};return Object(J.jsxs)("div",{className:"popular-list flex",onClick:function(){return s(c)},children:[Object(J.jsx)("img",{className:"popular-img round-edge link-".concat(n),src:t.img,alt:""}),Object(J.jsxs)("div",{className:"popular-txt fs16  flex column justify-center wide ",children:[Object(J.jsx)("h3",{className:"city",children:t.city}),Object(J.jsx)("h4",{className:"country",children:t.country})]})]})})));function De(e){var t=e.links,n=e.onImgClick;return Object(J.jsxs)("div",{className:"popular-location-list flex column gap10 round-edge",children:[Object(J.jsx)("h3",{children:"Popular destinations:"}),t.map((function(e,t){return Object(J.jsx)(Ie,{onImgClick:n,link:e,idx:t},t)}))]})}var Re=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={criteria:{address:"",checkIn:"",checkOut:"",guests:{adult:0,child:0,infant:0}},isPickingGuests:!1,isPickingDates:!1,isPickingLocation:!1,isInsideHeader:!0,dateFormat:null,tempName:!1},e.initState=function(){e.setState({criteria:{address:"",checkIn:"",checkOut:"",guests:{adult:0,child:0,infant:0}},isPickingGuests:!1,isPickingDates:!1,isPickingLocation:!1,isInsideHeader:!0,dateFormat:null})},e.inputRef=c.a.createRef(null),e.handleChange=function(t){var n=e.state.criteria,s=t.target.name,c=t.target.value;e.setState({criteria:Object(d.a)(Object(d.a)({},n),{},Object($.a)({},s,c))})},e.handleGuestsChanege=function(t,n){var s=e.state.criteria,c=s.guests;e.setState({criteria:Object(d.a)(Object(d.a)({},s),{},{guests:Object(d.a)(Object(d.a)({},c),{},Object($.a)({},t,n))})})},e.handlePickingDates=function(t,n){var s=e.state.criteria,c=s.checkIn,r=s.checkOut;c=t,n&&(r=n),e.setState({criteria:Object(d.a)(Object(d.a)({},s),{},{checkIn:c,checkOut:r}),dateFormat:{start:t,end:n}}),n&&t!==n&&e.activeInput("guest")},e.onSubmit=function(){var t=Object(O.a)(x.a.mark((function t(n){var s,c,r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),s=e.state,c=s.criteria,(r=s.dateFormat)&&(c.checkIn=Date.parse(r.start),c.checkOut=Date.parse(r.end)),a=pe.makeQueryParams(c),e.props.toggleSearchBar(),t.next=7,e.props.onSetOrder(c);case 7:e.props.history.push("/stay?".concat(a));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.activeInput=function(t,n){switch(e.closeInputs(),t){case"guest":e.setState({isPickingGuests:!0});break;case"date":e.setState({isPickingDates:!0});break;case"location":n.focus(),e.setState({isPickingLocation:!0})}},e.getDateValue=function(e){return"Invalid Date"===new Date(e).toLocaleString("en-IL",{month:"short",day:"numeric"})?"Add dates":new Date(e).toLocaleString("en-IL",{month:"short",day:"numeric"})},e.getTotalGuests=function(){var t=e.state.criteria.guests;return t.adult+t.child+t.infant},e.preventPropagation=function(e){e.stopPropagation()},e.closeInputs=function(){var t=e.state;t.isPickingGuests,t.isPickingDates,t.isPickingLocation;e.setState({isPickingGuests:false,isPickingDates:false,isPickingLocation:false})},e.onLocationClick=function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=pe.makeQueryParams(n),t.next=3,e.props.onSetOrder(n);case 3:e.props.history.push("/stay?".concat(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.closeInputs),"/"===this.props.history.location.pathname&&this.props.onSetOrder(null)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.closeInputs)}},{key:"componentDidUpdate",value:function(e,t){e!==this.props&&this.closeInputs(),this.props.isClearSearchBar&&"/"===this.props.location.pathname&&(this.initState(),this.props.setClearSearchBar())}},{key:"render",value:function(){var e=this,t=this.state,n=t.isPickingGuests,s=t.isPickingDates,c=t.isPickingLocation,r=t.criteria,a=this.props,i=a.animateClassName,o=a.isEnter,l=r.checkIn,d=r.checkOut,u=r.address;return"/host"===this.props.location.pathname?null:Object(J.jsx)("section",{className:"flex column align-center search-bar-main-container ".concat(i),children:Object(J.jsx)("div",{children:Object(J.jsx)("div",{className:"flex column margin-top20",children:Object(J.jsxs)("form",{className:"".concat(o?"enter-postion":""," search-bar-container flex"),onClick:this.preventPropagation,onSubmit:this.onSubmit,children:[Object(J.jsxs)("div",{className:"input-container flex column",onClick:function(){return e.activeInput("location",e.inputRef.current)},children:[Object(J.jsx)("span",{children:"Location"}),Object(J.jsx)("input",{type:"search",placeholder:"Where are you going?",name:"address",value:u,autoComplete:"off",ref:this.inputRef,onChange:this.handleChange,onClick:this.closeInputs})]}),Object(J.jsx)("div",{className:"seperation-line-vertical"}),Object(J.jsxs)("div",{className:"input-container flex column",onClick:function(){return e.activeInput("date")},children:[Object(J.jsx)("span",{children:"Check in"}),Object(J.jsx)("input",{type:"text",placeholder:"Add dates",name:"checkIn",value:this.getDateValue(l),autoComplete:"off",disabled:!0,onChange:this.handleChange})]}),Object(J.jsx)("div",{className:"seperation-line-vertical"}),Object(J.jsxs)("div",{className:"input-container flex column",onClick:function(){return e.activeInput("date")},children:[Object(J.jsx)("span",{children:"Check out"}),Object(J.jsx)("input",{type:"text",placeholder:"Add dates",autoComplete:"off",name:"checkOut",value:this.getDateValue(d),disabled:!0,onChange:this.handleChange})]}),Object(J.jsx)("div",{className:"seperation-line-vertical"}),Object(J.jsxs)("div",{className:"input-container flex column",onClick:function(){return e.activeInput("guest")},children:[Object(J.jsx)("span",{children:"Guests"}),Object(J.jsx)("input",{type:"text",autoComplete:"off",name:"guests",placeholder:"Guests:"+this.getTotalGuests(),disabled:!0,onChange:this.handleChange})]}),Object(J.jsx)("button",{className:"search-bar-submit flex ",children:Object(J.jsx)(Ae,{style:{height:"20px",width:"20px"}})}),Object(J.jsxs)("div",{className:n?"picking-guest-container":"none",children:[" ",n&&Object(J.jsx)(we,{handleGuestsChanege:this.handleGuestsChanege})," "]}),Object(J.jsxs)("div",{className:s?"picking-dates-container":"none",children:[" ",s&&Object(J.jsx)(xe,{order:{},preventPropagation:this.preventPropagation,handlePickingDates:this.handlePickingDates})," "]}),Object(J.jsxs)("div",{className:c?"picking-location-container":"none",children:[" ",c&&Object(J.jsx)(De,{onImgClick:this.onLocationClick,links:pe.HomePageImgPopular()})," "]})]})})})})}}]),n}(c.a.Component);var Be={onSetFilter:function(e){try{return function(t){be.query(e).then((function(e){t({type:"SET_STAYS",stays:e})}))}}catch(t){console.log("err",t)}},onSetOrder:Le},ze=Object(i.b)((function(e){return e}),Be)(Object(K.f)(Re)),Ee=function(e){var t=e.className;return Object(J.jsx)("svg",{className:t,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",children:Object(J.jsx)("g",{fill:"none",children:Object(J.jsx)("path",{d:"m13 24c6.0751322 0 11-4.9248678 11-11 0-6.07513225-4.9248678-11-11-11-6.07513225 0-11 4.92486775-11 11 0 6.0751322 4.92486775 11 11 11zm8-3 9 9"})})})},Ue=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isClicked:!1},e.getTotalGuests=function(){var t=e.props.order;if(!t.guests)return null;var n=t.guests,s=n.adult,c=n.child,r=n.infant;return s+c+r?s+c+r:null},e.getDateValue=function(e){return"Invalid Date"===new Date(e).toLocaleString("en-IL",{month:"short",day:"numeric"})?"Add Dates":new Date(e).toLocaleString("en-IL",{month:"short",day:"numeric"})},e.onSearchBarClicked=function(t){e.props.toggleSearchBar(t)},e.capitalizeFirstLetter=function(e){return e?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "):null},e}return Object(Q.a)(n,[{key:"render",value:function(){var e=this.props,t=e.animateClassName,n=e.order,s=e.pathname,c=e.screenWidth;return"/stay"===s&&n?Object(J.jsxs)("div",{className:"mini-search-bar flex space-between ".concat(t),onClick:this.onSearchBarClicked,children:[Object(J.jsx)("span",{className:"fs14 fh18 medium fw-unset",children:this.capitalizeFirstLetter(n.address)||"Location"}),Object(J.jsx)("div",{className:"seperation-line-vertical"}),n.checkOut&&Object(J.jsxs)("span",{className:"fs14 fh18 medium fw-unset",children:[this.getDateValue(n.checkIn)," - ",this.getDateValue(n.checkOut)]}),!n.checkOut&&Object(J.jsx)("span",{className:"fs14 fh18 book fw-unset",children:"Add dates"}),Object(J.jsx)("div",{className:"seperation-line-vertical"}),this.getTotalGuests()&&Object(J.jsxs)("span",{className:"fs14 fh18 medium fw-unset",children:["Guests: ",this.getTotalGuests()]}),!this.getTotalGuests()&&Object(J.jsx)("span",{className:"fs14 fh18 book fw-unset",children:"Add guests"})]}):Object(J.jsxs)("div",{className:"mini-search-bar flex space-between ".concat(t),onClick:this.onSearchBarClicked,children:[c>980&&Object(J.jsx)("span",{className:"fs14 fh18 medium fw-unset",children:"Start your search"}),Object(J.jsx)("button",{className:"search-bar-submit-mini flex ",children:Object(J.jsx)(Ee,{className:"icon"})})]})}}]),n}(c.a.Component);var Fe=Object(i.b)((function(e){return{order:e.orderReducer.currOrder}}),{})(Object(K.f)(Ue));function He(e){return function(t){t({type:"SET_MSG",msg:e}),setTimeout((function(){t({type:"SET_MSG",msg:null})}),12e3)}}var Ge={onClearNotification:function(e){try{return function(){var t=Object(O.a)(x.a.mark((function t(n){var s,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.getLoggedinUser();case 2:if(s=t.sent){t.next=5;break}return t.abrupt("return");case 5:return s.notifications[e]=0,t.next=8,A.update(s);case 8:c=s.notifications,n({type:"UPDATE_NOTIFICATION",notifications:c}),n({type:"UPDATE_USER",user:s});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){throw console.log("err",t),t}}},_e=Object(i.b)((function(e){return{state:e}}),Ge)(Object(K.f)((function(e){var t=e.onCloseMenu,n=e.onToggleLogin,s=e.onLogout,c=e.user,r=e.onClearNotification,a=function(e){r(e),t()};return Object(J.jsxs)("div",{onClick:function(e){e.stopPropagation()},className:"menu-dropdown white round-edge flex column ",children:[!c&&Object(J.jsx)("h1",{onClick:n,className:"link Log Out",children:"Log In"}),c&&Object(J.jsx)("h1",{onClick:s,className:"link Log Out",children:"Log Out"}),Object(J.jsx)(W.b,{onClick:function(){return a("trips")},to:"/trip",children:Object(J.jsxs)("div",{className:"flex space-between align-center",children:[Object(J.jsx)("h1",{className:"link wide medium light txt-trip",children:"My trips"}),c&&0!==c.notifications.trips&&Object(J.jsx)("div",{className:"menu-notification fs13 flex justify-center align-center",children:c.notifications.trips})]})}),Object(J.jsxs)(W.b,{onClick:function(){return a("orders")},to:"/host",children:[" ",Object(J.jsxs)("div",{className:"flex space-between align-center",children:[Object(J.jsx)("h1",{className:"link wide",children:"Manage listing"}),c&&0!==c.notifications.orders&&Object(J.jsx)("div",{className:"menu-notification fs13 flex justify-center align-center",children:c.notifications.orders})]})]}),Object(J.jsx)("h1",{onClick:t,className:"link Messeges",children:"Messeges"})]})}))),We=n(543),Ve=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={credentials:{username:"",password:"",fullname:"",imgUrl:"",isAdmin:!1},isSignup:!1,msg:""},e.inputRef=c.a.createRef(null),e.handleChange=function(t){var n=e.state.credentials,s=t.target.name,c=t.target.value;e.setState({credentials:Object(d.a)(Object(d.a)({},n),{},Object($.a)({},s,c))})},e.onSetColor=function(t){var n=t.clientX,s=t.clientY;e.inputRef.current.style.setProperty("--mouse-x",n),e.inputRef.current.style.setProperty("--mouse-y",s)},e.toggleSignup=function(){e.setState({isSignup:!0})},e.onSubmit=function(){var t=Object(O.a)(x.a.mark((function t(n){var s,c,r,a,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),s=e.state,c=s.credentials,r=s.isSignup,a=e.state.credentials,i=a.username,o=a.password,i&&o){t.next=6;break}return e.setState({msg:"All inputs required"}),t.abrupt("return");case 6:if(t.prev=6,!r){t.next=12;break}return t.next=10,e.props.onAddUser(c);case 10:t.next=14;break;case 12:return t.next=14,e.props.onSetUser(c);case 14:e.props.onToggleLogin(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),e.setState({msg:"Invalid username | password"});case 20:case"end":return t.stop()}}),t,null,[[6,17]])})));return function(e){return t.apply(this,arguments)}}(),e.onLoginDemoUser=Object(O.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=A.getDemoUser(),t.next=3,e.props.onSetUser(n);case 3:e.props.onToggleLogin();case 4:case"end":return t.stop()}}),t)}))),e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.props.toggleLogIn)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.props.toggleLogIn)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isSignup,s=t.msg;return Object(J.jsxs)("section",{children:[Object(J.jsx)("div",{onClick:function(){return e.props.onCloseLogin()},className:"screen"}),Object(J.jsxs)("form",{className:"login-form flex column align-center",onClick:function(e){return e.stopPropagation()},onSubmit:this.onSubmit,children:[Object(J.jsx)("p",{className:"login-header fs16 fh20 bold",children:"Log in or sign up"}),Object(J.jsx)("div",{className:"seperation-line-login "}),Object(J.jsxs)("div",{className:"login-main-container",children:[Object(J.jsx)("h2",{className:"login-welcome fw-unset fs22 fh26 medium",children:"Welcome to Homeaway"}),s&&Object(J.jsx)("h3",{children:s}),Object(J.jsxs)("div",{className:"login-input-continer flex column gap10",children:[Object(J.jsx)(We.a,{id:"outlined-basic",label:"Enter username",variant:"outlined",name:"username",onChange:this.handleChange}),Object(J.jsx)(We.a,{id:"outlined-basic-2",label:"Enter password",variant:"outlined",name:"password",type:"password",onChange:this.handleChange}),n&&Object(J.jsx)(We.a,{id:"outlined-basic-3",label:"Enter fullname",variant:"outlined",name:"fullname",onChange:this.handleChange}),!n&&Object(J.jsxs)("div",{className:"fh32",children:[Object(J.jsxs)("p",{children:["New to Homeaway? ",Object(J.jsx)("span",{onClick:this.toggleSignup,children:"Sign up!"})]}),Object(J.jsxs)("p",{children:["Or Login with ",Object(J.jsx)("span",{})," ",Object(J.jsx)("span",{className:"text-align",onClick:this.onLoginDemoUser,children:"  Demo-User"})," "]})]})]}),Object(J.jsx)("button",{ref:this.inputRef,onMouseMove:this.onSetColor,className:"continue-btn fs16 fh20 medium ",children:"Continue"})]}),Object(J.jsx)("button",{onClick:function(){return e.props.onCloseLogin()},className:"login-close-btn fs22 fh26 bold",children:"X"})]})]})}}]),n}(c.a.Component);var qe={onAddUser:function(e){try{return function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.signup(e);case 2:s=t.sent,f.emit("on-login",s._id),n({type:"ADD_USER",user:s}),n({type:"SET_USER",user:s});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){throw console.log("err",t),t}},onSetUser:function(e){try{return function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.login(e);case 2:s=t.sent,n({type:"SET_USER",user:s}),f.emit("on-login",s._id);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){throw console.log("err",t),t}}},Qe=Object(i.b)((function(e){return e}),qe)(Object(K.f)(Ve)),Xe=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"16px",width:"16px",stroke:"currentcolor",strokeWidth:"4",overflow:"visible"},children:Object(J.jsx)("g",{fill:"none",children:Object(J.jsx)("path",{d:"m20 28-11.29289322-11.2928932c-.39052429-.3905243-.39052429-1.0236893 0-1.4142136l11.29289322-11.2928932"})})})},Ye=c.a.forwardRef((function(e,t){var n=e.onChangeForm,s=e.onImgClick,c=e.links,r=e.address,a=e.onChange,i=e.onClearInputs;return Object(J.jsxs)("form",{onSubmit:function(e){n(e,"date")},children:[Object(J.jsxs)("div",{className:"input-container flex align-center gap10",children:[Object(J.jsx)("div",{onClick:function(e){return n(e,"home")},children:Object(J.jsx)(Xe,{})}),Object(J.jsx)("input",{className:"wide fs16 light",ref:t,type:"search",placeholder:"Where are you going?",name:"address",value:r,autoComplete:"off",onChange:a})]}),Object(J.jsx)(De,{onImgClick:s,links:c}),Object(J.jsxs)("div",{className:"btn mrt20 flex space-between",children:[Object(J.jsx)("button",{type:"button",onClick:function(e){return i("location")},children:"clear"}),Object(J.jsx)("button",{type:"submit",onClick:function(e){return n(e,"date")},children:"next"})]})]})})),Ke=function(e){var t=e.onChangeForm,n=e.handlePickingDates,s=e.getDateValue,c=e.onClearInputs,r=e.checkIn,a=e.checkOut,i=e.preventPropagation;return Object(J.jsxs)("form",{onSubmit:function(e){return t(e,"guest")},children:[Object(J.jsxs)("div",{className:"margin40 flex align-center",children:[Object(J.jsx)("div",{onClick:function(e){return t(e,"location")},children:Object(J.jsx)(Xe,{})}),Object(J.jsxs)("div",{className:"date-inputs fh26 flex column",children:[Object(J.jsx)("span",{className:"text-align",children:"when you will be there?"}),Object(J.jsxs)("div",{className:"flex",children:[Object(J.jsx)("input",{className:"wide light fs14 input-first clr1",type:"text",name:"checkIn",value:s(r),autoComplete:"off",disabled:!0}),"-",Object(J.jsx)("input",{className:"wide light fs14 input-seconde clr1",type:"text",name:"checkOut",value:s(a),autoComplete:"off",disabled:!0})]})]})]}),Object(J.jsx)(xe,{order:{},preventPropagation:i,handlePickingDates:n}),Object(J.jsxs)("div",{className:"btn flex space-between",children:[Object(J.jsx)("button",{type:"button",onClick:function(){return c("date")},children:"clear"}),Object(J.jsx)("button",{type:"submit",onClick:function(e){return t(e,"guest")},children:"next"})]})]})},Je=function(e){var t=e.onChangeForm,n=e.onClearInputs,s=e.handleGuestsChanege,c=e.order,r=e.getDateValue,a=c.guests.child+c.guests.infant+c.guests.adult,i=r(c.checkIn),o=r(c.checkOut);return Object(J.jsxs)("form",{onSubmit:function(e){t(e,"order")},children:[Object(J.jsxs)("div",{className:"margin40 flex gap10",children:[Object(J.jsx)("div",{onClick:function(e){return t(e,"date")},children:Object(J.jsx)(Xe,{})}),Object(J.jsxs)("div",{className:"order-container wide fh22",children:[c.address&&Object(J.jsx)("div",{className:"address flex justify-center",children:Object(J.jsx)("h1",{children:c.address[0].toUpperCase()+c.address.substring(1)})}),o&&Object(J.jsxs)("div",{className:"dates flex justify-center align-center",children:[Object(J.jsx)("span",{className:"fs12 clr1",children:i}),"-",Object(J.jsx)("span",{className:"fs12 clr1",children:o})]}),Object(J.jsxs)("div",{className:"guests flex justify-center gap10",children:[Object(J.jsx)("h1",{className:"fw-unset",children:"Guests:"}),Object(J.jsx)("span",{children:a})]})]})]}),Object(J.jsx)(we,{handleGuestsChanege:s,onClearInputs:n}),Object(J.jsx)("div",{className:"btn flex justify-end",children:Object(J.jsx)("button",{className:"btn-search book",type:"submit",onClick:function(e){return t(e,"order")},children:"Search"})})]})},Ze=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={criteria:{address:"",checkIn:"",checkOut:"",guests:{adult:0,child:0,infant:0}},isSearchClicked:!1,isPickingGuests:!1,isPickingDates:!1,isPickingLocation:!1,isInsideHeader:!0,dateFormat:null},e.inputRef=c.a.createRef(null),e.handleChange=function(t){var n=t.target,s=e.state.criteria;e.setState({criteria:Object(d.a)(Object(d.a)({},s),{},Object($.a)({},n.name,n.value))})},e.handlePickingDates=function(t,n){var s=e.state.criteria,c=s.checkIn,r=s.checkOut;c=t,n&&(r=n),e.setState({criteria:Object(d.a)(Object(d.a)({},s),{},{checkIn:c,checkOut:r}),dateFormat:{start:t,end:n}})},e.handleGuestsChanege=function(t,n){var s=e.state.criteria,c=s.guests;e.setState({criteria:Object(d.a)(Object(d.a)({},s),{},{guests:Object(d.a)(Object(d.a)({},c),{},Object($.a)({},t,n))})})},e.onChangeform=function(t,n){switch(t.preventDefault(),n){case"location":e.onLocationClick();break;case"date":e.onDateClick();break;case"guest":e.onGuestClick();break;case"order":e.onSubmit();break;case"home":e.initState()}},e.onLocationClick=function(){e.state.isPickingDates||e.props.onTogglePage(),e.setState({isSearchClicked:!0,isPickingLocation:!0,isPickingDates:!1},(function(){e.inputRef.current.focus()}))},e.onDateClick=function(){e.setState({isPickingLocation:!1,isPickingGuests:!1,isPickingDates:!0})},e.onGuestClick=function(){e.setState({isPickingDates:!1,isPickingGuests:!0})},e.onSubmit=Object(O.a)(x.a.mark((function t(){var n,s,c,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,s=n.criteria,(c=n.dateFormat)&&(s.checkIn=Date.parse(c.start),s.checkOut=Date.parse(c.end)),r=pe.makeQueryParams(s),t.next=5,e.props.onSetOrder(s);case 5:e.props.history.push("/stay?".concat(r));case 6:case"end":return t.stop()}}),t)}))),e.onLocationSubmit=function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=pe.makeQueryParams(n),t.next=3,e.props.onSetOrder(n);case 3:e.props.history.push("/stay?".concat(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.initState=function(){e.setState({criteria:{address:"",checkIn:"",checkOut:"",guests:{adult:0,child:0,infant:0}},isPickingGuests:!1,isPickingDates:!1,isPickingLocation:!1,dateFormat:null,isSearchClicked:!1},(function(){return e.props.onTogglePage()}))},e.getDateValue=function(e){return"Invalid Date"===new Date(e).toLocaleString("en-IL",{month:"short",day:"numeric"})?"":new Date(e).toLocaleString("en-IL",{month:"short",day:"numeric"})},e.onClearInputs=function(t){var n=e.state.criteria;switch(t){case"location":e.setState({criteria:Object(d.a)(Object(d.a)({},n),{},{address:""})});break;case"date":e.setState({criteria:Object(d.a)(Object(d.a)({},n),{},{checkIn:"",checkOut:""}),dateFormat:null});break;case"guest":e.setState({criteria:Object(d.a)(Object(d.a)({},n),{},{guests:{adult:0,child:0,infant:0}})})}},e}return Object(Q.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isPickingLocation,s=t.isPickingDates,c=t.isPickingGuests,r=t.isSearchClicked,a=this.state.criteria,i=a.address,o=a.checkIn,l=a.checkOut;return Object(J.jsxs)("section",{className:"main-container-home",children:[!r&&Object(J.jsx)("div",{className:"mobile-header-container pointer",onClick:function(t){return e.onChangeform(t,"location")},children:Object(J.jsx)("div",{className:"mobile-search-bar relative ",children:Object(J.jsxs)("div",{className:"flex align-center space-between",children:[Object(J.jsx)("span",{className:"fs14 fh18 medium fw-unset",children:"Start your search"}),Object(J.jsx)("button",{className:"search-bar-submit-mini flex ",children:Object(J.jsx)(Ee,{className:"icon"})})]})})}),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{className:"".concat(n?"show":""," picking-location-container"),children:Object(J.jsx)(Ye,{onChangeForm:this.onChangeform,onImgClick:this.onLocationSubmit,links:pe.HomePageImgPopular(),address:i,ref:this.inputRef,onChange:this.handleChange,onClearInputs:this.onClearInputs})}),Object(J.jsx)("div",{className:"".concat(s?"show":""," picking-dates-container"),children:Object(J.jsx)(Ke,{onChangeForm:this.onChangeform,getDateValue:this.getDateValue,checkIn:o,checkOut:l,handlePickingDates:this.handlePickingDates,onClearInputs:this.onClearInputs})}),Object(J.jsx)("div",{className:"".concat(c?"show":""," picking-guest-container"),children:Object(J.jsx)(Je,{order:this.state.criteria,onChangeForm:this.onChangeform,handleGuestsChanege:this.handleGuestsChanege,getDateValue:this.getDateValue,onClearInputs:this.onClearInputs})})]})]})}}]),n}(s.Component);var $e={onSetOrder:Le,onTogglePage:Pe},et=Object(i.b)((function(e){return{isMobileSearch:e.orderReducer.isMobileSearch}}),$e)(Object(K.f)(Ze)),tt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"18px",width:"18px",stroke:"currentcolor",strokeWidth:"3",overflow:"visible"},children:Object(J.jsxs)("g",{fill:"none",fillRule:"nonzero",children:[Object(J.jsx)("path",{d:"m2 16h28"}),Object(J.jsx)("path",{d:"m2 24h28"}),Object(J.jsx)("path",{d:"m2 8h28"})]})})},nt=n(29),st=n(30),ct=function(e){var t=e.className;return Object(J.jsx)("svg",{className:t,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",children:Object(J.jsx)("path",{d:"m16 28c7-4.733 14-10 14-17 0-1.792-.683-3.583-2.05-4.95-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05l-2.051 2.051-2.05-2.051c-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05-1.367 1.367-2.051 3.158-2.051 4.95 0 7 7 12.267 14 17z"})})};function rt(e){var t=e.onChanegPage,n=e.user,s=e.handleUserLogin;return Object(J.jsx)("nav",{className:"mobile-main-nav main-container",children:Object(J.jsxs)("section",{className:"nav-bar wide high flex align-center space-between",children:[Object(J.jsxs)("div",{onClick:function(){return t("home")},className:"home flex align-center column fh26",children:[Object(J.jsx)(nt.a,{className:"home clr3",icon:st.c}),Object(J.jsx)("h1",{children:"Home"})]}),Object(J.jsxs)("div",{onClick:function(){return t("explore")},className:"explore flex align-center column fh26",children:[Object(J.jsx)(Ee,{className:"icon"}),Object(J.jsx)("h1",{children:"Explore"})]}),Object(J.jsxs)("div",{onClick:function(){return t("host")},className:"host flex align-center column fh26",children:[Object(J.jsx)(ct,{className:"icon heart"}),Object(J.jsx)("h1",{children:"Become A Host"})]}),Object(J.jsxs)("div",{onClick:function(){return t("trip")},className:"my-trips flex align-center column fh26",children:[Object(J.jsx)(nt.a,{className:"icon user clr3",icon:st.e}),Object(J.jsx)("h1",{children:"My trips"})]}),Object(J.jsxs)("div",{onClick:s,className:"user-menu flex align-center column fh26",children:[Object(J.jsx)(nt.a,{className:"icon user clr3",icon:st.h}),Object(J.jsx)("h1",{children:n?"logout":"login"})]})]})})}var at=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={scrollLoc:0,isEnter:!1,isShowMenu:!1,isNewRoute:!1,isLogin:!1,closeSearchBarInputs:!1,isClearSearchBar:!1,isHosting:!1,screenWidth:window.innerWidth},e.onResizeScreen=function(t){var n=t.target;e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{screenWidth:n.innerWidth})}))},e.onToggleLogin=function(){e.onCloseMenu(),e.setState({isLogin:!e.state.isLogin})},e.onLogout=function(){e.onCloseMenu(),e.props.onLogout()},e.onCloseLogin=function(){e.setState({isLogin:!1})},e.onToggleHeader=function(t){var n=e.props.history.location.pathname,s=window.scrollY;e.state.isShowMenu&&e.onCloseMenu(),s<40&&"/"===n?e.setState({isEnter:!0,scrollLoc:s}):e.setState({isEnter:!1,scrollLoc:s})},e.backToHome=function(){var t=e.props,n=t.location,s=t.history,c=t.isMobileSearch,r=t.onTogglePage;"/"!==n.pathname?e.setState({isClearSearchBar:!0},(function(){s.push("/")})):document.documentElement.scrollTop=0,c&&r()},e.onChanegPage=function(t){switch(t){default:e.backToHome();break;case"explore":e.onExplore();break;case"host":e.onHost();break;case"trip":e.onTrip();break;case"user":e.onProfile()}},e.onToggoleMenu=function(t){t.stopPropagation();var n=e.state.isShowMenu;e.setState({isShowMenu:!n})},e.onCloseMenu=function(){e.setState({isShowMenu:!1})},e.getUserImg=function(){var e=A.getLoggedinUser();return e?e.imgUrl:null},e.toggleSearchBar=function(t){e.setState({isEnter:!0})},e.setClearSearchBar=function(){e.setState({isClearSearchBar:!1})},e.onToggleUser=function(){e.setState({isHosting:!e.state.isHosting})},e.hideHost=function(){e.setState({isHosting:!1})},e.checkForNotifications=function(){var t=e.props.user;return!!t&&!(!t.notifications.trips&&!t.notifications.orders)},e.getNotificationSum=function(){var t=e.props.user.notifications;return+t.orders+ +t.trips},e.onSetCurrHeaderClass=function(){var t="header-container shadow white",n=e.props.history.location.pathname,s=e.state;return s.scrollLoc<40&&"/"===n&&(t+=" no-color"),s.isEnter&&(t+=" header-height "),"/host"===n&&(t+=" relative padding"),t+="/"===n||"/stay"===n||"/host"===n||"/trip"===n?" fixed home main-container-home":" sticky-color main-container"},e.onExplore=Object(O.a)(x.a.mark((function t(){var n,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=pe.makeEmptyOrder(),s=pe.makeQueryParams(n),t.next=4,e.props.onSetOrder(n);case 4:e.props.history.push("/stay?".concat(s));case 5:case"end":return t.stop()}}),t)}))),e.onTrip=function(){e.props.history.push("/trip")},e.onProfile=function(){e.onToggleLogin()},e.onHost=function(){e.props.history.push("/host")},e.handleUserLogin=function(){e.props.user?e.onLogout():e.onChanegPage("user")},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history.location.pathname;window.addEventListener("scroll",this.onToggleHeader),window.addEventListener("click",this.onCloseMenu),window.addEventListener("resize",this.onResizeScreen),f.setup(),f.on("on-new-order",(function(){e.props.onAddNotification("orders")})),f.on("on-approved-trip",(function(){e.props.onAddNotification("trips")})),"/"===t&&this.state.scrollLoc<40&&this.setState({isEnter:!0}),"/trip"===t&&this.setState({isEnter:!1})}},{key:"componentDidUpdate",value:function(e){var t=this.props.history.location.pathname;e.location.pathname!==t&&(this.setState({isEnter:!1}),"/"===t&&this.setState({isEnter:!0}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onToggleHeader),window.removeEventListener("click",this.onCloseMenu),window.removeEventListener("resize",this.onResizeScreen)}},{key:"render",value:function(){var e=this.state,t=e.scrollLoc,n=e.isEnter,s=e.isShowMenu,c=e.isLogin,r=e.isClearSearchBar,a=e.isHosting,i=e.screenWidth,o=this.props.history.location.pathname,l=this.props,d=l.user;l.isMobileSearch;return i>460?Object(J.jsxs)("header",{className:this.onSetCurrHeaderClass(),children:[Object(J.jsxs)("div",{className:"".concat(n?"mrg-header":""," header-func flex"),children:[Object(J.jsxs)("div",{className:"logo-container flex align-center pointer",onClick:this.backToHome,children:[Object(J.jsx)("button",{className:"btn-logo border-none",children:Object(J.jsx)(Z,{className:"".concat("/"===o&&t>=40||"/"!==o?"logo-pink":"logo-white"," ")})}),i>670&&Object(J.jsx)("h3",{className:"logo-txt fs22 medium ".concat("/"===o&&t<40?"txt-white":"txt-pink"),children:"Home Away"})]}),Object(J.jsxs)("nav",{className:"nav-header",children:[Object(J.jsxs)("div",{className:"nav-header flex gap5 align-center",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(W.c,{onClick:this.hideHost,className:"link-host border-round fs14 medium  ".concat("/"===o&&t<40?"txt-white":"txt-black hover-bcg"),to:"/stay",children:"Explore"}),("/host"!==o||i>670)&&Object(J.jsx)(W.c,{onClick:this.onToggleUser,className:"link-host border-round fs14 medium  ".concat("/"===o&&t<40?"txt-white":"txt-black hover-bcg"),to:a?"/":"/host",children:"Become a host"})]}),Object(J.jsx)("div",{className:"menu-container border-round",children:Object(J.jsx)("div",{className:"menu-container",children:Object(J.jsxs)("button",{onClick:this.onToggoleMenu,className:"menu-btn border-round flex align-center",children:[this.checkForNotifications()&&Object(J.jsx)("div",{className:"notification flex justify-center align-center",children:this.getNotificationSum()}),Object(J.jsxs)("div",{className:"menu-details flex align-center",children:[Object(J.jsx)(tt,{}),Object(J.jsx)("img",{src:this.getUserImg()||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAGFBMVEVmb3pha3ZdaHRZZXFVYm5RX2tNXGlJWWbiZYSKAAADMElEQVR42u3dS3LlOAxEUYP47X/HFT3KUQfLlllPvIGzgwySCUq27K8xxhhjjDHGGGOMIXi2PCKrqv9TVRnhyyDpVmT/n4x1+9p59k663Ruv+u/UlSEt+jvCbsuX/V1pgHyYjN4/5XcsYPXPlV0w/vqZ1w/I6Kfi3QGzn0tqQElqQElqQElqyUgA5vyGXzAHcXOx+ncVtWUkqXtUFnSPSl0wKDgjw/qIsguWkLKIfQrgNrPh0CKVos5CWdDrjCS1Z4TaM+LQTSpJ3aRCbVJZ0BubBHTcS1GPoQAenDYMWjSyoEUjAZ33ktAqlaJWqUzCW4eFGHRYyJqEk/AR7/N8Ek7CSTgJj/OZFpNw7qVf8/R02rzFmDdRrx+IPm+E563+UwktGnHoMRSjHkMp6BtvCeg0FKNuUinoJhWHNqkYdZNKQse9LOrP8KWgPSNO7RmpU0sIX0Sfr4Lmy675Ou9bjHqdkaB+8yQFrRlZ1JqRpNaMFHSPyjq0R4GXN5+/3vJBBT2EYnXgC27a7c3mb3193KIGlEUNKIsaUKwALbqLSA0oAXjk3XDAXXTDAHN+I6hbVOryy/aeUw+hFHQJxalLKP13vu4V0CKVBbhvb1A3qdS/bdIPyAcvDzlVE5Nwduk0zeefEW3uNPc/5hugZ6BdE/CXGJbAfxMkFtXfU2GAf0e2UW5XxYOG9Oyn0i+Ixwy5sn9TrpfFi/59sd4Tr/qMinXB4Hsc0sDxFPKSwXfXmDTP/rfS7YLJ8FCuj+1O1G616M8KI+c7n9H7HfxUv1S/Ra0zLyXeJO3UAmKXMfp94sCvGr5M2YGAzIir32sBhuCGUwOKUwOKUwOKHygZTt1Y38EOzEHIXKy+RQHuohtBbRlZ0EMoZZQ9ut+ntD0qC9qjUg9va7jbW9+IWjMSgPvohkGXUIJ6CoVapOLQWShF7RkxaM9IUHtGAHfujQXdpBLQJpWiNqkYeNzvh76OIfsgVjf8IPbtqEUjBi0acWjRSECLRopaNEItGjHog4WsXdHAqyb7fgmtUilq0YhtioZdNd4EDi0aSWjRSP3gznYZapWKQatUFrRKxSfhJJyE70r4B91vZqOvWsIJAAAAAElFTkSuQmCC",alt:"",className:"user-img border-round"})]})]})})})]}),s&&Object(J.jsx)(_e,{onLogout:this.onLogout,user:d,isLogin:c,onToggleLogin:this.onToggleLogin,onCloseMenu:this.onCloseMenu}),c&&Object(J.jsx)(Qe,{onToggleLogin:this.onToggleLogin,onCloseLogin:this.onCloseLogin})]})]}),"/host"!==o&&Object(J.jsx)(Fe,{screenWidth:i,toggleSearchBar:this.toggleSearchBar,animateClassName:n?"":"scale-up-top-mini-search-bar"}),Object(J.jsx)(ze,{isEnter:n,setClearSearchBar:this.setClearSearchBar,isClearSearchBar:r,closeSearchBarInputs:this.closeSearchBarInputs,toggleSearchBar:this.toggleSearchBar,animateClassName:n?"scale-up-top-search-bar":""})]}):Object(J.jsxs)(J.Fragment,{children:["/"!==o&&Object(J.jsx)("header",{children:Object(J.jsxs)("div",{className:"logo-container-mobile justify-center flex align-center pointer ",onClick:this.backToHome,children:[Object(J.jsx)("button",{className:"btn-mobile border-none",children:Object(J.jsx)(Z,{className:"logo-mobile"})}),Object(J.jsx)("h3",{className:"clr3 fs22",children:"Home Away"})]})}),"/"===o&&Object(J.jsx)(et,{screenWidth:i}),Object(J.jsx)(rt,{onChanegPage:this.onChanegPage,user:d,handleUserLogin:this.handleUserLogin}),c&&Object(J.jsx)(Qe,{onToggleLogin:this.onToggleLogin,onCloseLogin:this.onCloseLogin})]})}}]),n}(c.a.Component),it={onSetMsg:He,onLogout:function(){try{return function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.logout();case 2:t({type:"SET_USER",user:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}catch(e){throw console.log("err",e),e}},onAddNotification:function(e){try{return function(){var t=Object(O.a)(x.a.mark((function t(n){var s,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.getLoggedinUser();case 2:return(s=t.sent).notifications[e]++,t.next=6,A.update(s);case 6:c=s.notifications,n({type:"UPDATE_NOTIFICATION",notifications:c}),n({type:"UPDATE_USER",user:s});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){throw console.log("err",t),t}},onSetOrder:Le,onTogglePage:Pe},ot=Object(i.b)((function(e){var t=e.userReducer,n=e.orderReducer;return{user:t.loggedInUser,isMobileSearch:n.isMobileSearch}}),it)(Object(K.f)(at)),lt=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={staysTopRated:[],staysNearby:[],screenWidth:window.innerWidth},e.onResizeScreen=function(t){var n=t.target;e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{screenWidth:n.innerWidth})}))},e.makeQueryParams=function(e){var t={address:e};return pe.makeQueryParams(t)},e.getTopRated=Object(O.a)(x.a.mark((function e(){var t,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.query();case 2:for(t=e.sent,n=[],s=0;n.length<6;)t[s].rating>4.6&&n.push(t[s]),s++;return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),e.getNearby=Object(O.a)(x.a.mark((function e(){var t,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.query();case 2:for(t=e.sent,n=[],s=0;n.length<6;)"Tel Aviv"!==t[s].loc.city&&"Jerusalem"!==t[s].loc.city||n.push(t[s]),s++;return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(O.a)(x.a.mark((function e(){var t,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("resize",this.onResizeScreen),t=this.state,n=t.staysTopRated,s=t.staysNearby,e.next=4,this.getTopRated();case 4:return n=e.sent,e.next=7,this.getNearby();case 7:s=e.sent,this.setState({staysTopRated:n,staysNearby:s});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.addEventListener("resize",this.onResizeScreen)}},{key:"render",value:function(){var e=this.props.history.location.pathname,t=this.state,n=t.staysTopRated,s=t.staysNearby,c=t.screenWidth,r=this.makeQueryParams;return n.length?c>450?Object(J.jsx)("div",{className:"footer-container full",children:Object(J.jsxs)("footer",{className:"main-footer ".concat("/"===e||"/host"===e||"/stay"===e||"/trip"===e?"main-container-home":"main-container"," "),children:[Object(J.jsx)("h2",{className:"footer-header fs30 fh40 bold",children:"Explore the world"}),Object(J.jsxs)("div",{className:"links-container flex ",children:[Object(J.jsxs)("div",{className:"flex column space-between gap25",children:[Object(J.jsx)("h3",{className:"footer-list-header fs22 fh26 book",children:"Top rated"}),n.map((function(e){return Object(J.jsx)("div",{className:"flex column gap5",children:Object(J.jsxs)(W.b,{to:"/stay/".concat(e._id,"?").concat(r("".concat(e.loc.city))),children:[" ",Object(J.jsx)("div",{className:"medium",children:e.name}),Object(J.jsx)("span",{children:e.loc.address})]})},e._id)}))]}),Object(J.jsxs)("div",{className:"flex column space-between ",children:[Object(J.jsx)("h3",{className:"footer-list-mid-header fs22 fh26 book",children:"Most visited cities"}),Object(J.jsxs)("div",{className:"flex high column gap10",children:[Object(J.jsx)("div",{className:"flex column gap5",children:Object(J.jsxs)(W.b,{to:"/stay?".concat(r("Bangkok")),children:[Object(J.jsx)("div",{className:"medium",children:"Bangkok"}),Object(J.jsx)("span",{children:"Thailand"})]})}),Object(J.jsx)("div",{className:"flex column gap5",children:Object(J.jsxs)(W.b,{to:"/stay?".concat(r("London")),children:[Object(J.jsx)("div",{className:"medium",children:"London"}),Object(J.jsx)("span",{children:"England"})]})}),Object(J.jsx)("div",{className:"flex column gap5",children:Object(J.jsxs)(W.b,{to:"/stay?".concat(r("Barcelona")),children:[Object(J.jsx)("div",{className:"medium",children:"Barcelona"}),Object(J.jsx)("span",{children:"Spain"})]})}),Object(J.jsx)("div",{className:"flex column gap5",children:Object(J.jsxs)(W.b,{to:"/stay?".concat(r("New York")),children:[Object(J.jsx)("div",{className:"medium",children:"New York"}),Object(J.jsx)("span",{children:"USA"})]})}),Object(J.jsx)("div",{className:"flex column gap5",children:Object(J.jsxs)(W.b,{to:"/stay?".concat(r("Paris")),children:[Object(J.jsx)("div",{className:"medium",children:"Paris"}),Object(J.jsx)("span",{children:"France"})]})}),Object(J.jsx)("div",{className:"flex column gap5",children:Object(J.jsxs)(W.b,{to:"/stay?".concat(r("Bali")),children:[Object(J.jsx)("div",{className:"medium",children:"Bali"}),Object(J.jsx)("span",{children:"Indonesia"})]})})]})]}),Object(J.jsxs)("div",{className:"flex column space-between fh23",children:[Object(J.jsx)("h3",{className:"footer-list-header fs22 fh26 book end",children:"Nearby"}),s.map((function(e,t){return Object(J.jsx)("div",{className:"flex column gap5",children:Object(J.jsxs)(W.b,{to:"/stay/".concat(e._id,"?").concat(r("".concat(e.loc.city))),children:[" ",Object(J.jsx)("div",{className:"medium",children:e.name}),Object(J.jsx)("span",{children:e.loc.address})," "]})},t)}))]})]}),Object(J.jsx)("div",{className:"seperation-line last"}),Object(J.jsx)("div",{className:"flex justify-center",children:Object(J.jsx)("p",{className:"fs16 fh20 book",children:"\xa9 2021 Home away, Inc."})})]})}):Object(J.jsx)("div",{}):Object(J.jsx)("div",{className:"flex align-center justify-center full",children:Object(J.jsx)(ye.a,{type:"ThreeDots",color:"#FF385C",height:100,width:100})})}}]),n}(c.a.Component),dt=Object(K.f)(lt),ut=n.p+"static/media/host.e309b4f3.jpg",ht=n.p+"static/media/hero-cut.a1c640f5.jpg";function jt(e){var t=e.links,n=e.onImgClick;return Object(J.jsx)("ul",{className:"popular-img-list",children:t.map((function(e,t){return Object(J.jsx)(Ie,{onImgClick:n,link:e,idx:t},t)}))})}function pt(e){var t=e.link,n=e.idx,s={label:t.value},c=pe.makeQueryParams(s);return Object(J.jsx)(W.b,{className:"link-labels",to:"/stay?".concat(c),children:Object(J.jsxs)("li",{className:"label-img",children:[Object(J.jsx)("img",{className:"labels-img round-edge link-".concat(n),src:t.img,alt:""}),Object(J.jsx)("h3",{className:"label-txt",children:t.label})]})})}function bt(e){var t=e.links;return Object(J.jsx)("ul",{className:"labels-img-list",children:t.map((function(e,t){return Object(J.jsx)(pt,{link:e,idx:t},t)}))})}var ft=n(123),mt=n.n(ft),xt=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(Q.a)(n,[{key:"render",value:function(){var e=this.props,t=e.links,n=e.onImgClick;return Object(J.jsx)(mt.a,Object(d.a)(Object(d.a)({},{className:"center",centerMode:!1,infinite:!0,centerPadding:"60px",slidesToShow:2,speed:500,rows:1,slidesPerRow:2,arrows:!0}),{},{children:t.map((function(e,t){return Object(J.jsx)("div",{children:Object(J.jsxs)("div",{className:"popular-list flex",onClick:function(){return n({address:e.city})},children:[Object(J.jsx)("img",{className:"popular-img round-edge link-".concat(t),src:e.img,alt:""}),Object(J.jsxs)("div",{className:"popular-txt fs16  flex column justify-center wide ",children:[Object(J.jsx)("h3",{className:"city",children:e.city}),Object(J.jsx)("h4",{className:"country",children:e.country})]})]})},t)}))}))}}]),n}(s.Component),Ot=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={popularImgs:"",labelsImgs:"",screenWidth:window.innerWidth},e.onResizeScreen=function(t){var n=t.target;e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{screenWidth:n.innerWidth})}),(function(){}))},e.onImgClick=function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=pe.makeQueryParams(n),t.next=3,e.props.onSetOrder(n);case 3:e.props.history.push("/stay?".concat(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResizeScreen),this.props.onSetOrder(null)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeScreen)}},{key:"render",value:function(){var e=this.state.screenWidth,t=this.props.isMobileSearch;return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{className:"hero-logo full relative",children:[e>800&&Object(J.jsxs)("div",{className:"btn-flex-container fh20  absolute flex align-center column",children:[Object(J.jsx)("h1",{className:"fs18",children:"Not sure where to go? Perfect."}),Object(J.jsx)(W.b,{to:"/stay",className:"btn-flex",children:Object(J.jsx)("span",{style:{WebkitBackgroundClip:"text"},children:"I'm flexible"})})]}),Object(J.jsx)("img",{src:ht,alt:""})]}),(!t||e>460)&&Object(J.jsxs)("section",{className:"".concat(e<460?" overflow-hidden full":""," home-page "),children:[Object(J.jsx)("h1",{className:"".concat(e<460?"pad-home":""," title-popular fs32 fh52 fw-unset bold"),children:"Popular Destinations"}),e>600?Object(J.jsx)(jt,{onImgClick:this.onImgClick,links:pe.HomePageImgPopular()}):Object(J.jsx)(xt,{onImgClick:this.onImgClick,links:pe.HomePageImgPopular()}),Object(J.jsxs)("div",{className:e<460?"pad-home":"",children:[Object(J.jsx)("h1",{className:"title-label fs32 fh52 fw-unset bold",children:"Live Anywhere"}),Object(J.jsx)(bt,{links:pe.HomePageImgLabels()}),Object(J.jsx)(W.b,{to:"/host",children:Object(J.jsxs)("div",{className:"host-container ",children:[Object(J.jsx)("img",{className:"round-edge",src:ut,alt:""}),Object(J.jsxs)("div",{className:"host-info flex column justify-center align-center",children:[Object(J.jsx)("h1",{className:"info-first wide",children:"Try hosting"}),Object(J.jsx)("p",{className:"info-seconde",children:"Earn extra income and unlock new opportunities by sharing your space."}),Object(J.jsx)("button",{className:"host-btn flex round-edge",children:"Learn more"})]})]})})]})]})]})}}]),n}(c.a.Component);var vt={onSetOrder:Le,onTogglePage:Pe},gt=Object(i.b)((function(e){return{currOrder:e.orderReducer.currOrder,isMobileSearch:e.orderReducer.isMobileSearch}}),vt)(Object(K.f)(Ot)),yt=function(e){var t=e.className;return Object(J.jsx)("svg",{className:t,focusable:"false",viewBox:"0 0 1002 330",preserveAspectRatio:"xMaxYMid slice",children:Object(J.jsxs)("g",{style:{isolation:"isolate"},children:[Object(J.jsx)("path",{d:"M228.08 187v-8.92a11.54 11.54 0 1 1 23.07 0v.28a4.2 4.2 0 0 1 4.23.82l6.36-1.39v-20.68h-94l.17.15h-94v21l4.17.91a4.23 4.23 0 0 1 4.7-.64v-.3a11.54 11.54 0 0 1 23.08 0v8.89a7.16 7.16 0 0 1 3.45 2.74l5 2h41v-13.8a11.54 11.54 0 0 1 23.08 0v13.78h41l4.81-2a6.83 6.83 0 0 1 3.88-2.84z",fill:"#ffd46b"}),Object(J.jsx)("path",{fill:"#ffd46b",d:"M84.9 91.96h164.23v65.31H84.9z"}),Object(J.jsx)("path",{fill:"#fff",d:"M111.27 131.96v13.48H99.22v-13.48zM111.28 106.75v13.48H99.23v-13.48zM142 131.96v13.48h-12.05v-13.48zM142.01 106.74v13.48h-12.05v-13.48zM173.04 106.75v13.48h-12.05v-13.48zM234.63 131.8v13.48h-12.05V131.8zM234.63 106.59v13.48h-12.05v-13.48zM203.89 131.8v13.48h-12.05V131.8zM203.9 106.58v13.48h-12.05v-13.48z"}),Object(J.jsx)("path",{d:"M189.28 82.42a5.24 5.24 0 0 0-4.82-5.22 8.83 8.83 0 0 1-5.38-1.2 8.33 8.33 0 0 1-3.16-4.76 9.09 9.09 0 0 0-17.52 1.26 7.8 7.8 0 0 1-2.8 3.63 8.79 8.79 0 0 1-5.37 1.23A5.24 5.24 0 0 0 149 87.57h36.09a5.27 5.27 0 0 0 4.19-5.15z",fill:"#ffd46b"}),Object(J.jsx)("circle",{cx:"167.36",cy:"73.82",r:"4.61",fill:"#ffb436",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"#ffb436",d:"M184.08 155.58v-14.52h-34.8v14.52H73.83v3.38h187.91v-3.38h-77.66z",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#fdf4d3",strokeLinecap:"round",strokeMiterlimit:"10",d:"M186.03 142.21l-19.19-10.41-19.66 10.41"}),Object(J.jsx)("path",{fill:"#fdf4d3",d:"M149.35 141.06h3.76v14.42h-3.76zM164.72 141.06h3.76v14.42h-3.76zM180.34 141.06h3.76v14.42h-3.76z"}),Object(J.jsx)("path",{fill:"none",stroke:"#fdf4d3",strokeLinecap:"round",strokeLinejoin:"round",d:"M122.41 173.88h15.48M125.42 182.99h16.26M118.63 164.47h15.73M128.89 192.11l-13.84-36.47H73.83M213.16 173.88h-15.48M210.15 182.99h-16.26M216.95 164.47h-15.73M206.69 192.11l13.84-36.47h41.21M190.58 191.95l13.84-36.47H131.16L145 191.95"}),Object(J.jsx)("path",{fill:"none",stroke:"#ffb436",strokeMiterlimit:"10",d:"M79.63 87.57h174.81",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M661.65 83.86C655.76 77.37 656 68 661 63c3.66-3.68 9.58-4.77 15.08-2.94 3.87-8.42 11.79-14.11 20.49-14.55 11.06-.57 21.68 7.43 24.68 19.38C730.53 43 755 32.79 774.71 40.41c18.84 7.27 25.74 30.45 25.64 35.88a8.93 8.93 0 0 1-1.85 5.6 8.17 8.17 0 0 1-5.56 2.36h-44.66M726.17 84.25h-8.51M741.57 84.25h-8.51M710.89 84.25h-8.51",fill:"none",stroke:"#75b4b4",strokeLinecap:"round",strokeMiterlimit:"10",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M867.77 256.75l-13-27.28h-71.12v51a4.74 4.74 0 0 0 1.14 3.49 4.84 4.84 0 0 0 3.85 1.51h110.78v-23.93z",fill:"#ffd46b"}),Object(J.jsx)("circle",{cx:"817.22",cy:"285.49",r:"11.85",fill:"none",stroke:"#407f7f",strokeMiterlimit:"10",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("circle",{cx:"866.66",cy:"285.49",r:"11.85",fill:"none",stroke:"#407f7f",strokeMiterlimit:"10",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#ec5d57",strokeMiterlimit:"10",d:"M775.24 284.46h-34.8M775.24 275.09H759.7M752.34 275.24h-15.55M730.26 275.17h-15.54"}),Object(J.jsx)("path",{fill:"#ff8e8f",d:"M788.35 207.8h35.12v21.67h-35.12z"}),Object(J.jsx)("path",{fill:"#c6e7e0",d:"M823.47 213.74h28.19v15.73h-28.19z"}),Object(J.jsx)("path",{d:"M894.22 272a5.2 5.2 0 0 0 5.2 5.21v-10.46a5.2 5.2 0 0 0-5.2 5.25zM820.09 257.48h38.1l-8.12-18.95H792.6v18.95h27.49z",fill:"#fdf4d3"}),Object(J.jsx)("path",{fill:"none",stroke:"#75b4b4",strokeMiterlimit:"10",d:"M834.07 236.03v25.3M811.65 236.03v24.33"}),Object(J.jsx)("path",{d:"M0 284.46h602.81M621.83 284.41h22.83M661.38 284.41h22.83M700.16 284.41H723M909.52 285.5H1002",fill:"none",stroke:"#b0b0b0",strokeMiterlimit:"10"}),Object(J.jsxs)("g",{fill:"none",stroke:"#407f7f",children:[Object(J.jsx)("path",{d:"M830.76 132.83l8.88-29.94a6.08 6.08 0 0 1 11-2.11q3.3 6.52 6.61 13h8c9.52 19.16 34.82 72 34.82 72",strokeMiterlimit:"10"}),Object(J.jsx)("path",{d:"M865.23 113.49s16.33-21.55 26.95-20.23c0 0 10 0 11.28 15.27 0 0 1.32 14.37-7.3 13.49 0 0-4.65-1.11-2.21-6.86 0 0 7.07-10.17 15.26-5.53 0 0 8 2.21 6.19 20.79h38.42",strokeLinejoin:"round"}),Object(J.jsx)("path",{d:"M182.26 202c4.22-.22 8.7-.2 12.33 2 6 3.66 7.55 11.68 10.18 18.34a42.82 42.82 0 0 0 13.53 18.06h462.62c73.79-4.57 92.35-54.61 92.35-54.61h8a9.7 9.7 0 0 0 3.36-1 11.31 11.31 0 0 0 2.61-2c11.92-12.91 32.34-47.14 32.34-47.14a5 5 0 0 1 1.91-2.2 4.84 4.84 0 0 1 3-.55h15.76s7.79-.37 8.16-8c0 0 .74-3.89-2.41-4.82 0 0-4.82-.92-4.45 7.24 0 0-.37 7.41 8.16 6.67 0 0 7.79.93 15.21-19.65q5.85-11.1 12.23-22.5 8.38-15 16.82-28.87c4.68-6.79 10.25-10.74 13.72-9.39 2.23.87 3.29 3.83 5.19 9.15a52.17 52.17 0 0 1 2.47 9.76h8.78a6 6 0 0 1 3.09 1.24 6 6 0 0 1 1.78 2.43c1 2.46 10.94 24 24.48 53.65l6.79 14.19s16.48 39.61 41.73 69.46M156.69 192.73s1.42 8.32-7.7 9.33M177.47 192.73s-1.32 8.19 7.2 9.18M148 202c-4.25-.22-8.76-.2-12.42 2-6.09 3.66-7.6 11.7-10.25 18.37a43 43 0 0 1-13.63 18.09H0",strokeLinecap:"round",strokeLinejoin:"round"})]}),Object(J.jsxs)("g",{style:{mixBlendMode:"multiply"},children:[Object(J.jsx)("circle",{cx:"680.92",cy:"163.63",r:"45.89",fill:"none",stroke:"#61a0a0",strokeMiterlimit:"10"}),Object(J.jsx)("circle",{cx:"680.92",cy:"163.63",r:"39.44",fill:"none",stroke:"#61a0a0",strokeMiterlimit:"10"}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeMiterlimit:"10",d:"M680.92 117.73v91.79"}),Object(J.jsx)("path",{fill:"#ffb436",d:"M680.92 167.5l-15.9 64.21h31.79l-15.89-64.21z",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("circle",{cx:"680.92",cy:"105.42",r:"6.23",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeLinejoin:"round",d:"M676.78 117.97l4.14-6.32 4.13 6.32"}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeMiterlimit:"10",d:"M648.56 130.95l64.9 64.9"}),Object(J.jsx)("circle",{cx:"622.47",cy:"163.36",r:"6.23",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeLinejoin:"round",d:"M635.02 167.5l-6.32-4.14 6.32-4.13"}),Object(J.jsx)("circle",{cx:"739.36",cy:"163.63",r:"6.23",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeLinejoin:"round",d:"M726.81 167.76l6.32-4.13-6.32-4.14"}),Object(J.jsx)("circle",{cx:"639.68",cy:"122.07",r:"6.23",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeLinejoin:"round",d:"M645.63 133.87l-1.54-7.39 7.39 1.55"}),Object(J.jsx)("circle",{cx:"722.15",cy:"204.91",r:"6.23",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeLinejoin:"round",d:"M710.35 198.96l7.39 1.55-1.54-7.4"}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeMiterlimit:"10",d:"M648.37 195.85l64.9-64.9"}),Object(J.jsx)("circle",{cx:"639.5",cy:"204.73",r:"6.23",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeLinejoin:"round",d:"M651.3 198.77l-7.4 1.55 1.55-7.39"}),Object(J.jsx)("circle",{cx:"722.34",cy:"122.26",r:"6.23",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#61a0a0",strokeLinejoin:"round",d:"M716.38 134.06l1.55-7.39-7.39 1.54"}),Object(J.jsx)("circle",{cx:"680.92",cy:"163.36",r:"4.13",fill:"#ffb436",style:{mixBlendMode:"multiply"}})]}),Object(J.jsxs)("g",{fill:"none",style:{mixBlendMode:"multiply"},children:[Object(J.jsx)("circle",{cx:"529.13",cy:"172.92",r:"14.09",stroke:"#61a0a0",strokeMiterlimit:"10"}),Object(J.jsx)("circle",{cx:"509.77",cy:"209.97",r:"6.21",stroke:"#61a0a0",strokeMiterlimit:"10"}),Object(J.jsx)("circle",{cx:"529.13",cy:"109.63",r:"9.92",stroke:"#61a0a0",strokeMiterlimit:"10"}),Object(J.jsx)("circle",{cx:"529.13",cy:"88.15",r:"4.96",stroke:"#61a0a0",strokeMiterlimit:"10"}),Object(J.jsx)("path",{stroke:"#61a0a0",strokeMiterlimit:"10",d:"M512.9 204.62l11.27-18.51"}),Object(J.jsx)("path",{stroke:"#61a0a0",strokeLinecap:"round",strokeLinejoin:"round",d:"M496.58 231.43l9.87-16.22M515.05 213.22l14.08 18.21v-44.42"}),Object(J.jsx)("circle",{cx:"548.5",cy:"209.97",r:"6.21",stroke:"#61a0a0",strokeMiterlimit:"10"}),Object(J.jsx)("path",{stroke:"#61a0a0",strokeMiterlimit:"10",d:"M545.36 204.62l-11.27-18.51"}),Object(J.jsx)("path",{stroke:"#61a0a0",strokeLinecap:"round",strokeLinejoin:"round",d:"M561.69 231.43l-9.88-16.22M543.22 213.22l-14.09 18.21M543.04 170.69h-27.82M543.04 175.16h-27.8M526.74 158.84v-39.3M531.47 158.84v-39.3"}),Object(J.jsx)("path",{stroke:"#ff5a5f",strokeMiterlimit:"10",d:"M529.13 83.06V54.43"}),Object(J.jsx)("path",{stroke:"#61a0a0",strokeLinecap:"round",strokeLinejoin:"round",d:"M526.77 99.71v-6.6M531.49 99.71v-6.6M538.93 108.05h-19.59M538.93 111.2h-19.58"})]}),Object(J.jsxs)("g",{children:[Object(J.jsx)("path",{fill:"#bce8e0",d:"M633.8 155.99h-58.07v76.11h88.1v-47.39l-29.97-28.45-.06-.27z",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M454.2 232.1h124V116c-1.37-.13-19.12-1.46-30.41 12.66-9.43 11.8-7.25 25.47-6.87 27.6h-55.65v39.14H454.2z",fill:"#f6c5bf",style:{mixBlendMode:"multiply"}})]}),Object(J.jsxs)("g",{children:[Object(J.jsx)("path",{d:"M478.49 135.47v-24c-.43-21.68-9.74-49.93-9.74-49.93s-9.31 28.28-9.75 49.96v24h-7.14v96.6h33.75v-96.63z",fill:"#c6e7e0"}),Object(J.jsx)("path",{d:"M459.19 107.22c.92-6.68 4.75-11.56 9.19-11.82 4.64-.26 8.84 4.58 9.9 11.52M461 92.57c1.21-4.71 4.28-7.86 7.69-7.88s6.53 3.14 7.75 7.88M463.8 79.41c1-2.75 2.88-4.47 4.95-4.48s4 1.72 5 4.48M468.76 62.89V36.97M459.19 142.83h6.18v9.74h-6.18zM472.09 142.83h6.18v9.74h-6.18zM459.19 160.58h6.18v9.74h-6.18zM472.09 160.58h6.18v9.74h-6.18zM459.22 178.33h6.18v9.74h-6.18zM472.12 178.33h6.18v9.74h-6.18zM459.22 196.08h6.18v9.74h-6.18zM472.12 196.08h6.18v9.74h-6.18zM459.38 213.83h6.18v9.74h-6.18zM472.28 213.83h6.18v9.74h-6.18z",fill:"none",stroke:"#61a0a0",strokeLinecap:"round",strokeLinejoin:"round",style:{mixBlendMode:"multiply"}})]}),Object(J.jsxs)("g",{children:[Object(J.jsx)("rect",{x:"370.91",y:"105.47",width:"11.88",height:"11.88",rx:"3.26",ry:"3.26",fill:"#ff8e8f"}),Object(J.jsx)("path",{d:"M376.85 23c-19.07 0-34.58 15.82-34.58 35.26s15.51 35.27 34.58 35.27 34.57-15.82 34.57-35.27S395.91 23 376.85 23z",fill:"#f6c5bf"}),Object(J.jsx)("path",{d:"M376.69 93c-23.11-37.26 0-69.72 0-69.72M372.71 106.31l-17.73-21.28",fill:"none",stroke:"#ec5d57",strokeLinecap:"round",strokeLinejoin:"round",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M375 106.1l-3.72-12.86c-42.84-38.87 2-69.55 2-69.55M376.69 93c23.12-37.26 0-69.72 0-69.72M380.68 106.31l17.73-21.28",fill:"none",stroke:"#ec5d57",strokeLinecap:"round",strokeLinejoin:"round",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M378.42 106.1l3.71-12.86c42.84-38.87-2-69.55-2-69.55",fill:"none",stroke:"#ec5d57",strokeLinecap:"round",strokeLinejoin:"round",style:{mixBlendMode:"multiply"}})]}),Object(J.jsxs)("g",{children:[Object(J.jsx)("path",{fill:"none",stroke:"#f9d479",strokeMiterlimit:"10",d:"M359.72 172.83l.13 56.5"}),Object(J.jsx)("path",{d:"M440.84 227.8c-.41-8.7-6.73-15.61-14.26-16.08-8.14-.51-15.55 6.64-16 16.08-.41-8.7-6.73-15.61-14.26-16.08-8.14-.51-15.55 6.64-16 16.08-.41-8.7-6.73-15.61-14.26-16.08-8.14-.51-15.55 6.64-16 16.08-.42-8.7-6.73-15.61-14.26-16.08-8.14-.51-15.55 6.64-16 16.08",fill:"none",stroke:"#388287",strokeLinecap:"round",strokeLinejoin:"round",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M376.69 175.32s-.92-1.61-1.45-2.34a25.34 25.34 0 0 1-3-8.88c-.41-3 1-10.77 1-12.43a13.42 13.42 0 1 0-26.83 0c0 1.66 1.41 9.44 1 12.43a25.34 25.34 0 0 1-3 8.88 18.66 18.66 0 0 0-1.43 2.29 19 19 0 1 0 33.69 0z",fill:"none",stroke:"#75b4b4",strokeMiterlimit:"10",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("circle",{cx:"400.41",cy:"158.25",r:"17.72",fill:"none",stroke:"#75b4b4",strokeMiterlimit:"10",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("circle",{cx:"418.14",cy:"190.17",r:"10.47",fill:"none",stroke:"#75b4b4",strokeMiterlimit:"10",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#f9d479",strokeMiterlimit:"10",d:"M400.41 207.32l17.73-17.15M400.41 229.33v-71.08",style:{mixBlendMode:"multiply"}})]}),Object(J.jsxs)("g",{children:[Object(J.jsx)("path",{d:"M46.44 118.2V93.85a3.86 3.86 0 0 0-1.36-3.17 2.46 2.46 0 0 0-1.74-.53c-1.19.16-2 1.47-2.29 1.88-1.15 1.81-2.07 8.11-2.26 16.64a8 8 0 0 0-4.24 2c-3.17 3-2.49 13.29-2.64 16-1 1.06-6.36 6.73-5.82 14.9.12 1.71.48 7.27 5 11.2a15.48 15.48 0 0 0 10.35 3.52 16.41 16.41 0 0 0 10.75-3.61c5.4-4.65 5.29-11.82 5.23-16.4 0-1.88-.22-14.48-7.34-17.45a8.68 8.68 0 0 0-3.64-.63z",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#f9d479",strokeLinecap:"round",strokeLinejoin:"round",d:"M41.73 175.1v-40.97",style:{mixBlendMode:"multiply"}}),Object(J.jsxs)("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(J.jsx)("path",{stroke:"#407f7f",d:"M6.35 207.63l52.52-31.96"}),Object(J.jsx)("path",{d:"M45.74 183.66c5.27-18.67 13.13-8 13.13-8M32.61 191.65c5.27-18.67 13.13-8 13.13-8M19.48 199.64c5.27-18.67 13.13-8 13.13-8M6.35 207.63c5.27-18.67 12.89-8.28 12.89-8.28l.24.29",stroke:"#75b4b4",style:{mixBlendMode:"multiply"}})]}),Object(J.jsx)("path",{d:"M333.28 185.76c-14.9-8.09-32.29-11.25-49.49-10.73",fill:"none",stroke:"#407f7f",strokeLinecap:"round",strokeLinejoin:"round"}),Object(J.jsx)("path",{d:"M109.23 189.88s-7.86-10.68-13.13 8M83 205.86c5.28-18.67 13.14-8 13.14-8M69.83 213.85c5.27-18.67 13.13-8 13.13-8",fill:"none",stroke:"#75b4b4",strokeLinecap:"round",strokeLinejoin:"round",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M56.7 221.84c5.27-18.67 12.9-8.27 12.9-8.27l.23.28",fill:"none",stroke:"#75b4b4",strokeLinecap:"round",strokeLinejoin:"round",style:{mixBlendMode:"multiply"}}),Object(J.jsxs)("g",{strokeLinecap:"round",strokeLinejoin:"round",children:[Object(J.jsx)("path",{d:"M33.4 213.15l52.53-32s12.71 4 16.73 5.93",fill:"none",stroke:"#407f7f"}),Object(J.jsx)("path",{d:"M72.8 189.17c5.27-18.67 13.13-8 13.13-8",fill:"#fff",stroke:"#75b4b4",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M59.67 197.17c5.27-18.68 13.13-8 13.13-8M46.53 205.16c5.28-18.67 13.14-8 13.14-8M33.4 213.15c5.27-18.67 12.9-8.28 12.9-8.28l.23.29",fill:"none",stroke:"#75b4b4",style:{mixBlendMode:"multiply"}})]}),Object(J.jsx)("path",{d:"M0 185.9s18.35-11.83 49.49-10.73M58.87 175.67S71.4 177.5 78 179.19",fill:"none",stroke:"#407f7f",strokeLinecap:"round",strokeLinejoin:"round",style:{mixBlendMode:"multiply"}}),Object(J.jsxs)("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(J.jsx)("path",{stroke:"#407f7f",d:"M327.04 207.63l-52.53-31.96"}),Object(J.jsx)("path",{d:"M287.64 183.66c-5.27-18.67-13.13-8-13.13-8M300.78 191.65c-5.28-18.67-13.14-8-13.14-8M313.91 199.64c-5.27-18.67-13.13-8-13.13-8",stroke:"#75b4b4",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M327 207.63c-5.27-18.67-12.9-8.28-12.9-8.28l-.23.29",stroke:"#75b4b4",style:{mixBlendMode:"multiply"}})]}),Object(J.jsxs)("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(J.jsx)("path",{d:"M56.7 221.84l52.53-32 8.71 3.6c56.22 23.87 106.22-3.6 106.22-3.6l52.53 32",stroke:"#407f7f"}),Object(J.jsx)("path",{d:"M237.29 197.87c-5.27-18.67-13.13-8-13.13-8M250.42 205.86c-5.27-18.67-13.13-8-13.13-8M263.55 213.85c-5.27-18.67-13.13-8-13.13-8M276.69 221.84c-5.28-18.67-12.9-8.27-12.9-8.27l-.24.28",stroke:"#75b4b4",style:{mixBlendMode:"multiply"}})]}),Object(J.jsxs)("g",{strokeLinecap:"round",strokeLinejoin:"round",children:[Object(J.jsx)("path",{d:"M300 213.15l-52.52-32s-12.71 4-16.74 5.93",fill:"none",stroke:"#407f7f"}),Object(J.jsx)("path",{d:"M260.59 189.17c-5.27-18.67-13.13-8-13.13-8",fill:"#fff",stroke:"#75b4b4",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M273.72 197.17c-5.27-18.68-13.13-8-13.13-8M286.85 205.16c-5.27-18.67-13.13-8-13.13-8M300 213.15c-5.27-18.67-12.89-8.28-12.89-8.28l-.24.29",fill:"none",stroke:"#75b4b4",style:{mixBlendMode:"multiply"}})]}),Object(J.jsx)("path",{d:"M274.51 175.67s-12.52 1.83-19.13 3.52",fill:"none",stroke:"#407f7f",strokeLinecap:"round",strokeLinejoin:"round",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M21.3 166.13a4.43 4.43 0 0 0 .43-1.92 4.72 4.72 0 0 0-9.44 0 4.43 4.43 0 0 0 .43 1.92 32.5 32.5 0 0 0 4.29 8 32.5 32.5 0 0 0 4.29-8z",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#ec5d57",strokeLinecap:"round",strokeLinejoin:"round",d:"M17.01 168.74v9.9",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M26 218.86a4.52 4.52 0 0 0 .42-1.91A4.72 4.72 0 0 0 17 217a4.53 4.53 0 0 0 .43 1.91 32.28 32.28 0 0 0 4.29 8 32.52 32.52 0 0 0 4.28-8.05z",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M26 218.86a4.52 4.52 0 0 0 .42-1.91A4.72 4.72 0 0 0 17 217a4.53 4.53 0 0 0 .43 1.91 32.28 32.28 0 0 0 4.29 8 32.52 32.52 0 0 0 4.28-8.05z",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#ec5d57",strokeLinecap:"round",strokeLinejoin:"round",d:"M21.73 221.47v9.91",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M228.45 213.28a4.54 4.54 0 0 0 .43-1.92 4.72 4.72 0 0 0-9.44 0 4.53 4.53 0 0 0 .42 1.92 32.74 32.74 0 0 0 4.3 8 32.5 32.5 0 0 0 4.29-8z",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#ec5d57",strokeLinecap:"round",strokeLinejoin:"round",d:"M224.16 215.89v9.91",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M248.15 220.3a4.58 4.58 0 0 0 .43-1.92 4.73 4.73 0 0 0-9.45 0 4.58 4.58 0 0 0 .43 1.92 32.74 32.74 0 0 0 4.3 8 32.5 32.5 0 0 0 4.29-8z",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#ec5d57",strokeLinecap:"round",strokeLinejoin:"round",d:"M243.86 222.91v9.9",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{d:"M100.39 218.86a4.53 4.53 0 0 0 .43-1.91 4.73 4.73 0 0 0-9.45 0 4.53 4.53 0 0 0 .43 1.91 32.52 32.52 0 0 0 4.3 8 32.28 32.28 0 0 0 4.29-8z",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#ec5d57",strokeLinecap:"round",strokeLinejoin:"round",d:"M96.1 221.47v9.91",style:{mixBlendMode:"multiply"}}),Object(J.jsxs)("g",{children:[Object(J.jsx)("path",{d:"M319.12 165.63a4.43 4.43 0 0 0 .43-1.92 4.72 4.72 0 0 0-9.44 0 4.43 4.43 0 0 0 .43 1.92 32.5 32.5 0 0 0 4.29 8 32.5 32.5 0 0 0 4.29-8z",fill:"#c6e7e0",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{fill:"none",stroke:"#ec5d57",strokeLinecap:"round",strokeLinejoin:"round",d:"M314.83 168.24v9.9",style:{mixBlendMode:"multiply"}})]}),Object(J.jsxs)("g",{fill:"none",children:[Object(J.jsx)("path",{d:"M294.62 120.13V96.69a3.65 3.65 0 0 0-1.34-3 2.48 2.48 0 0 0-1.71-.51 3.68 3.68 0 0 0-2.24 1.8c-1.13 1.74-2 7.81-2.22 16a7.84 7.84 0 0 0-4.16 2c-3.11 2.91-2.45 12.79-2.59 15.35-1 1-6.24 6.48-5.71 14.34.11 1.65.47 7 4.89 10.78a15.35 15.35 0 0 0 10.16 3.39 16.29 16.29 0 0 0 10.55-3.48c5.3-4.47 5.19-11.37 5.13-15.78 0-1.81-.21-13.93-7.2-16.8a8.62 8.62 0 0 0-3.56-.65z",stroke:"#75b4b4",strokeMiterlimit:"10",style:{mixBlendMode:"multiply"}}),Object(J.jsx)("path",{stroke:"#f9d479",strokeLinecap:"round",strokeLinejoin:"round",d:"M289.99 174.9v-39.44",style:{mixBlendMode:"multiply"}})]})]})]})})};function kt(e){var t=e.order,n=e.onSetOrder,s=e.onRemoveOrder,c=0;for(var r in t.guests)c+=t.guests[r];var a=t.stay._id,i=pe.makeQueryParams(t);return Object(J.jsxs)("li",{className:"trip-preview ".concat(t._id),children:[Object(J.jsx)(W.b,{onClick:function(){return n(t)},to:"/stay/".concat(a,"?").concat(i),children:Object(J.jsx)("div",{className:"trip-img",children:Object(J.jsx)("img",{src:t.img,alt:""})})}),Object(J.jsxs)("div",{className:"trip-details fh32 ",children:[Object(J.jsxs)("div",{className:"dates flex gap5",children:[Object(J.jsx)("h2",{className:"trip-checkIn fs12 book clr1 fw-unset",children:new Date(t.checkIn).toLocaleString("en-IL",{year:"numeric",month:"short",day:"numeric"})||""}),Object(J.jsx)("span",{children:" - "}),Object(J.jsx)("h2",{className:"trip-checkOut fs12 book clr1 fw-unset",children:new Date(t.checkOut).toLocaleString("en-IL",{year:"numeric",month:"short",day:"numeric"})||""})]}),Object(J.jsx)("h1",{className:"trip-address medium fs22 fw-unset",children:t.stay.address}),Object(J.jsxs)("h3",{className:"trip-guests",children:["Guests:",c]}),Object(J.jsxs)("h3",{className:"trip-price",children:["Total Price: ",t.price]}),Object(J.jsxs)("h3",{className:"trip-price",children:["status: ",t.status]}),Object(J.jsxs)("div",{className:"update-trip",children:[Object(J.jsx)("button",{onClick:function(){return s(t._id)},className:"btn-trip",children:"cancel"}),Object(J.jsx)(W.b,{onClick:function(){return n(t)},to:"/stay/".concat(a,"?").concat(i),className:"btn-trip",children:"edit"})]})]})]})}function wt(e){var t=e.orders,n=e.onSetOrder,s=e.onRemoveOrder;return Object(J.jsx)("ul",{className:"trip-list",children:t.map((function(e,t){return Object(J.jsx)(kt,{order:e,onSetOrder:n,onRemoveOrder:s},t)}))})}var Nt=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isUpcoming:!0,isPast:!1,isOrders:!1},e.onLoadOrders=function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onLoadOrders(n);case 2:t.sent.length&&e.setState({isOrders:!0});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSetOrder=function(t){e.props.onSetOrder(t)},e.toggleTripStatus=function(t){"upcoming"===t?e.setState({isUpcoming:!0,isPast:!1}):e.setState({isPast:!0,isUpcoming:!1})},e.onRemoveOrder=function(t){e.props.onRemoveOrder(t)},e.onUpdateTrip=function(){},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e,t={type:"user",_id:null===(e=this.props.user)||void 0===e?void 0:e._id};this.props.user&&this.onLoadOrders(t)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isUpcoming,s=t.isPast,c=this.props.orders;return c?Object(J.jsxs)("section",{className:"trip-container",children:[Object(J.jsx)("h1",{className:"txt-trip bold fs32 clr2",children:"Trips"}),Object(J.jsxs)("div",{className:"trip-btn flex column",children:[Object(J.jsxs)("div",{className:"btn-menu flex ",children:[Object(J.jsx)("button",{onClick:function(){e.toggleTripStatus("upcoming")},className:"".concat(n?"active":""," btn-trip fs16 pointer medium clr5"),children:"Upcoming"}),Object(J.jsx)("button",{onClick:function(){e.toggleTripStatus("past")},className:"".concat(s?"active":""," btn-trip  fs16 pointer past medium clr5"),children:"Past"})]}),Object(J.jsx)("div",{className:"trip-hero",children:(!c.length||s)&&Object(J.jsx)(yt,{className:"trip-hero"})}),c.length&&!s&&Object(J.jsx)(wt,{orders:c,onSetOrder:this.onSetOrder,onRemoveOrder:this.onRemoveOrder})]})]}):Object(J.jsx)("div",{className:"flex align-center justify-center full",children:Object(J.jsx)(ye.a,{type:"ThreeDots",color:"#FF385C",height:100,width:100})})}}]),n}(c.a.Component);var Ct={onLoadOrders:Ce,onSetOrder:Le,onRemoveOrder:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ne.remove(e);case 3:n({type:"REMOVE_ORDER",orderId:e}),t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.log("err",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}},St=Object(i.b)((function(e){return{orders:e.orderReducer.orders,user:e.userReducer.loggedInUser}}),Ct)(Nt),Mt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:" 16px",width:"16px",stroke:"currentcolor",strokeWidth:"2",overflow:"visible"},children:Object(J.jsxs)("g",{fill:"none",children:[Object(J.jsx)("path",{d:"M27 18v9a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-9"}),Object(J.jsx)("path",{d:"M16 3v23V3z"}),Object(J.jsx)("path",{d:"M6 13l9.293-9.293a1 1 0 0 1 1.414 0L26 13"})]})})},Lt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"M15.032 1.747c.263-1.004 1.692-.993 1.94.015.876 3.577 2.415 6.454 4.614 8.652 2.198 2.199 5.075 3.738 8.652 4.615 1.016.249 1.016 1.693 0 1.942-3.577.877-6.454 2.416-8.652 4.615-2.199 2.198-3.738 5.075-4.615 8.652-.249 1.016-1.693 1.016-1.942 0-.877-3.577-2.416-6.454-4.615-8.652-2.198-2.199-5.075-3.738-8.652-4.615-1.008-.247-1.019-1.676-.015-1.939 3.535-.923 6.394-2.487 8.597-4.69 2.202-2.202 3.765-5.06 4.688-8.595zm.945 3.518l-.133.325c-.88 2.085-2.025 3.914-3.438 5.484l-.33.357-.318.326c-1.6 1.6-3.5 2.893-5.693 3.88l-.475.206-.325.133.352.14c2.108.859 3.952 1.995 5.527 3.407l.358.33.326.319c1.603 1.602 2.887 3.515 3.854 5.732l.203.48.115.291.115-.292c.86-2.108 1.996-3.952 3.408-5.527l.33-.358.319-.326c1.602-1.603 3.515-2.887 5.732-3.854l.48-.203.292-.115-.293-.115c-2.421-.988-4.494-2.34-6.211-4.057-1.603-1.602-2.887-3.515-3.854-5.732l-.203-.48-.138-.351zm11.04-3.891c.13-.502.845-.497.969.007.176.718.48 1.287.913 1.72.433.433 1.002.737 1.72.913.508.125.508.847 0 .972-.718.176-1.287.48-1.72.913-.433.433-.737 1.002-.913 1.72-.125.508-.847.508-.972 0-.176-.718-.48-1.287-.913-1.72-.433-.433-1.002-.737-1.72-.913-.504-.124-.51-.839-.007-.97.71-.185 1.277-.496 1.712-.93.434-.435.745-1.002.93-1.712z"})})},Pt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"m11.6667 0-.00095 1.666h8.667l.00055-1.666h2l-.00055 1.666 6.00065.00063c1.0543745 0 1.9181663.81587127 1.9945143 1.85073677l.0054857.14926323v15.91907c0 .4715696-.1664445.9258658-.4669028 1.2844692l-.1188904.1298308-8.7476886 8.7476953c-.3334303.3332526-.7723097.5367561-1.2381975.5778649l-.1758207.0077398h-12.91915c-2.68874373 0-4.88181754-2.1223321-4.99538046-4.7831124l-.00461954-.2168876v-21.66668c0-1.05436021.81587582-1.91815587 1.85073739-1.99450431l.14926261-.00548569 5.999-.00063.00095-1.666zm16.66605 11.666h-24.666v13.6673c0 1.5976581 1.24893332 2.9036593 2.82372864 2.9949072l.17627136.0050928 10.999-.0003.00095-5.6664c0-2.6887355 2.122362-4.8818171 4.7832071-4.9953804l.2168929-.0046196 5.66595-.0006zm-.081 8-5.58495.0006c-1.5977285 0-2.9037573 1.2489454-2.9950071 2.8237299l-.0050929.1762701-.00095 5.5864zm-18.586-16-5.999.00062v5.99938h24.666l.00065-5.99938-6.00065-.00062.00055 1.66733h-2l-.00055-1.66733h-8.667l.00095 1.66733h-2z"})})},At=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"m16.8438 27.1562-.00005-3.39845-.2608465.0913211c-.9857292.3215073-2.0303948.5116467-3.1127817.5499306l-.4076218.0071983-.2927873-.0037049c-6.03236807-.1528291-10.89442655-5.0148222-11.04725775-11.0472069l-.00370495-.2927882.00370495-.2927873c.1528312-6.03236807 5.01488968-10.89442655 11.04725775-11.04725775l.2927873-.00370495.2927882.00370495c6.0323847.1528312 10.8943778 5.01488968 11.0472069 11.04725775l.0037049.2927873-.00663.3912275c-.0484899 1.4286741-.3615343 2.7917824-.8920452 4.0406989l-.1327748.2963236 7.90645 7.90705v5.5834h-5.5834l-4.12505-4.12545zm-6.5313-19.93745c1.708641 0 3.09375 1.38511367 3.09375 3.09375 0 1.7086436-1.3851064 3.09375-3.09375 3.09375-1.70863633 0-3.09375-1.385109-3.09375-3.09375 0-1.70863365 1.38511635-3.09375 3.09375-3.09375zm0 2.0625c-.56954635 0-1.03125.46170365-1.03125 1.03125 0 .5695521.46169942 1.03125 1.03125 1.03125.5695564 0 1.03125-.4616936 1.03125-1.03125 0-.56955058-.4616979-1.03125-1.03125-1.03125zm12.1147 15.81255 4.12455 4.12495h2.667v-2.667l-8.37295-8.37255.3697-.6775.1603998-.3074798c.56763-1.1397167.90791-2.4128858.9606815-3.761954l.0072187-.3697662-.0038197-.2688703c-.1397418-4.91222958-4.0963692-8.86881961-9.0086094-9.00856l-.2688709-.0038197-.2688703.0038197c-4.91222958.13974039-8.86881961 4.09633042-9.00856 9.00856l-.0038197.2688703.0038197.2688709c.14228112 5.0015536 4.24146819 9.0124291 9.2774303 9.0124291 1.4456308 0 2.8116781-.3298367 4.0293209-.9177001l.3012791-.1522999 1.5131-.7998-.00045 4.61975z"})})},Tt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:" 24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"m17.9772237 1.90551573.1439807.13496509 13.2525 13.25240998-1.4142088 1.4142184-.9603513-.9603098.0008557 12.5832006c0 1.0543618-.8158778 1.9181651-1.8507377 1.9945143l-.1492623.0054857h-22c-1.0543618 0-1.91816512-.8158778-1.99451426-1.8507377l-.00548574-.1492623-.00085571-12.5822006-.95878858.9593098-1.41421142-1.414217 13.25247161-13.25243161c1.1247615-1.1246896 2.9202989-1.16967718 4.0986078-.13494486zm-2.5902053 1.46599297-.0942127.08318915-10.29366141 10.29310155.00085571 14.5822006h5.9991443l.0008557-9.9966c0-1.0543764.8158639-1.9181664 1.8507358-1.9945144l.1492642-.0054856h6c1.0543764 0 1.9181664.8158639 1.9945144 1.8507358l.0054856.1492642-.0008557 9.9966h6.0008557l-.0008557-14.5832006-10.2921737-10.29212525c-.3604413-.36046438-.9276436-.38819241-1.3199522-.08316545zm3.6129816 14.9618913h-6l-.0008557 9.9963994h6z"})})},It=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"m24.3334 1.66675c1.0543745 0 1.9181663.81587127 1.9945143 1.85073677l.0054857.14926323-.00065 24.666 3.00065.00075v2h-26.66665v-2l3-.00075v-24.666c0-1.05436681.81587301-1.91816558 1.850737-1.99451429l.149263-.00548571zm-4.00065 2h-12.666l-.00075 24.66625 12.66675-.00025zm4.00065 0h-2.00065v24.666l2.00025.00025zm-7.0001 11.00002c.7363778 0 1.33333.5969522 1.33333 1.33333s-.5969522 1.33333-1.33333 1.33333-1.33333-.5969522-1.33333-1.33333.5969522-1.33333 1.33333-1.33333z"})})},Dt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"m15.9999 20.33323c2.0250459 0 3.66667 1.6416241 3.66667 3.66667s-1.6416241 3.66667-3.66667 3.66667-3.66667-1.6416241-3.66667-3.66667 1.6416241-3.66667 3.66667-3.66667zm0 2c-.9204764 0-1.66667.7461936-1.66667 1.66667s.7461936 1.66667 1.66667 1.66667 1.66667-.7461936 1.66667-1.66667-.7461936-1.66667-1.66667-1.66667zm.0001-7.33323c3.5168171 0 6.5625093 2.0171251 8.0432368 4.9575354l-1.5143264 1.5127043c-1.0142061-2.615688-3.5549814-4.4702397-6.5289104-4.4702397s-5.5147043 1.8545517-6.52891042 4.4702397l-1.51382132-1.5137072c1.48091492-2.939866 4.52631444-4.9565325 8.04273174-4.9565325zm.0001-5.3332c4.9804693 0 9.3676401 2.540213 11.9365919 6.3957185l-1.4470949 1.4473863c-2.1746764-3.5072732-6.0593053-5.8431048-10.489497-5.8431048s-8.31482064 2.3358316-10.48949703 5.8431048l-1.44709488-1.4473863c2.56895177-3.8555055 6.95612261-6.3957185 11.93659191-6.3957185zm-.0002-5.3336c6.4510616 0 12.1766693 3.10603731 15.7629187 7.9042075l-1.4304978 1.4309874c-3.2086497-4.44342277-8.4328305-7.3351949-14.3324209-7.3351949-5.8991465 0-11.12298511 2.89133703-14.33169668 7.334192l-1.43047422-1.4309849c3.58629751-4.79760153 9.31155768-7.9032071 15.7621709-7.9032071z"})})};function Rt(e){var t=e.tag,n=e.type;switch(t){case"entire to yourself":return Object(J.jsxs)("div",{className:"tag-container flex",children:[Object(J.jsx)(Tt,{}),Object(J.jsx)("div",{className:"flex column",children:Object(J.jsxs)("p",{children:["  ",Object(J.jsx)("span",{className:"tag-header",children:"Entire ".concat(n)})," ",Object(J.jsx)("br",{}),Object(J.jsxs)("span",{className:"fade-font",children:[" ","You'll have the entire ".concat(n," to yourself.")]})]})})]});case"enhanced clean":return Object(J.jsxs)("div",{className:"tag-container flex",children:[Object(J.jsx)(Lt,{}),Object(J.jsx)("div",{className:" flex column",children:Object(J.jsxs)("p",{children:["  ",Object(J.jsx)("span",{className:"tag-header",children:"Enhanced Clean"})," ",Object(J.jsx)("br",{}),Object(J.jsx)("span",{className:"fade-font",children:"The host committed to Homeaway's 5-step enhanced cleaning process."})," "]})})]});case"self check-in":return Object(J.jsxs)("div",{className:"tag-container flex",children:[Object(J.jsx)(It,{}),Object(J.jsx)("div",{className:"flex column",children:Object(J.jsxs)("p",{children:[" ",Object(J.jsx)("span",{className:"tag-header",children:"Self Check-in"})," ",Object(J.jsx)("br",{}),Object(J.jsx)("span",{className:"fade-font",children:" Check yourself in with the key safe."})]})})]});case"free cancellation":return Object(J.jsxs)("div",{className:"tag-container flex",children:[Object(J.jsx)(Pt,{}),Object(J.jsx)("div",{className:"flex column",children:Object(J.jsxs)("p",{children:[" ",Object(J.jsx)("span",{className:"tag-header",children:"Free cancellation up to 48 hours before the check-in."})," ",Object(J.jsx)("br",{}),Object(J.jsx)("span",{className:"fade-font",children:"You won't be charged for reservasion."})]})})]});case"great check-in":return Object(J.jsxs)("div",{className:"tag-container flex",children:[Object(J.jsx)(At,{}),Object(J.jsx)("div",{className:"flex column",children:Object(J.jsxs)("p",{children:[" ",Object(J.jsx)("span",{className:"tag-header",children:"Great Check-in experience"})," ",Object(J.jsx)("br",{}),Object(J.jsx)("span",{className:"fade-font",children:"95% of recent guests gave the check-in process a 5-star rating."})]})})]});case"wifi":return Object(J.jsxs)("div",{className:"tag-container flex",children:[Object(J.jsx)(Dt,{}),Object(J.jsx)("div",{className:"flex column",children:Object(J.jsxs)("p",{children:[" ",Object(J.jsx)("span",{className:"tag-header",children:"Wi-Fi"})," ",Object(J.jsx)("br",{}),Object(J.jsx)("span",{className:"fade-font",children:"Guests often search for this popular amenity."})]})})]})}}function Bt(e){var t=e.order,n=e.stay;return Object(J.jsxs)("div",{className:"final-price-container flex column",children:[Object(J.jsx)("p",{className:"final-price-header",children:"You won't be charged yet"}),Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsxs)("span",{className:"pricing fs16 fh36 book",children:["$",n.price,"X",(t.checkOut-t.checkIn)/864e5," nights"]}),Object(J.jsxs)("span",{className:"fs16 fh36 book",children:["$",((t.checkOut-t.checkIn)/864e5*n.price).toLocaleString("en-IL")]})]}),Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsx)("span",{className:"pricing fs16 fh36 book",children:"Cleaning Fee"}),Object(J.jsx)("span",{className:"fs16 fh36 book",children:"$43"})]}),Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsx)("span",{className:"pricing fs16 fh36 book",children:"Service Fee"}),Object(J.jsx)("span",{className:"fs16 fh36 book",children:"$75"})]}),Object(J.jsx)("div",{className:"seperation-line"}),Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsx)("span",{className:" fs16 fh36 medium",children:"Total"}),Object(J.jsxs)("span",{className:" fs16 fh36 medium",children:["$",((t.checkOut-t.checkIn)/864e5*n.price+118).toLocaleString("en-IL")]})]})]})}var zt=Object(i.b)((function(e){return{msg:e.userReducer.msg}}),{})((function(e){var t=e.msg,n=e.isHostPage,s=Object(J.jsx)("div",{className:"user-msg ".concat((null===t||void 0===t?void 0:t.type)||""," ").concat(n?"host-msg":""),children:Object(J.jsxs)("div",{className:"user-info wide flex space-between align-center gap10",children:[Object(J.jsx)("div",{className:"icon-border",children:"error"===(null===t||void 0===t?void 0:t.type)?Object(J.jsx)(nt.a,{className:"icon-order-error fs20",icon:st.g}):Object(J.jsx)(nt.a,{className:"icon-order-sent fs20",icon:st.a})}),Object(J.jsx)("h3",{children:null===t||void 0===t?void 0:t.txt})]})});return Object(J.jsx)(J.Fragment,{children:"new-order"===(null===t||void 0===t?void 0:t.type)?Object(J.jsx)(W.b,{to:"/trip",children:s}):s})})),Et=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={isReserve:!1,isFinalReserve:!1,isPickingGuests:!1,isPickingDates:!1,reviewsNumber:0,orderParams:null},e.inputRef=c.a.createRef(null),e.onSetColor=function(t){var n=t.clientX,s=t.clientY;e.inputRef.current.style.setProperty("--mouse-x",n),e.inputRef.current.style.setProperty("--mouse-y",s)},e.closeInputs=function(){var t=e.state,n=t.isPickingGuests,s=t.isPickingDates;(n||s)&&(n=!1,s=!1,e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{isPickingGuests:n,isPickingDates:s})})))},e.activeInput=function(t){switch(e.closeInputs(),t){case"guest":e.setState({isPickingGuests:!0,isReserve:!1});break;case"date":e.setState({isPickingDates:!0,isReserve:!1})}},e.preventPropagation=function(e){e.stopPropagation()},e.getTotalGuests=function(){if(e.props.currOrder.guests){var t=e.props.currOrder.guests,n=t.adult,s=t.child,c=t.infant;return"Guests: ".concat(n+s+c)}return 0},e.handleGuestsChanege=function(t,n){var s=Object(d.a)({},e.props.currOrder);s.guests||(s.guests={adult:0,child:0,infant:0}),s.guests[t]=n,e.props.onUpdateOrder(s)},e.handlePickingDates=function(t,n){var s=Object(d.a)({},e.props.currOrder);s.checkIn=Date.parse(t),n&&(s.checkOut=Date.parse(n)),e.props.onUpdateOrder(s)},e.createFinalOrder=function(){var t=e.props,n=t.currOrder,s=t.stay,c=t.user;return{_id:n._id||null,host:s.host,createdAt:Date.now(),price:(n.checkOut-n.checkIn)/864e5*s.price+118,checkIn:n.checkIn,checkOut:n.checkOut,guests:n.guests,img:s.imgUrls[0],status:"Pending",buyer:{_id:c._id,fullname:c.fullname,imgUrl:c.imgUrl},stay:{_id:s._id,name:s.name,address:s.loc.address}}},e.onSubmit=function(){var t=Object(O.a)(x.a.mark((function t(n){var s,c,r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),n.preventDefault(),s=e.props,c=s.user,r=s.order,c){t.next=6;break}return e.props.onSetMsg({type:"error",txt:"Please Sign up/log in to continue"}),t.abrupt("return");case 6:if(r.checkOut&&r.guests){t.next=9;break}return e.props.onSetMsg({type:"error",txt:"Please fill in all the fields to continue"}),t.abrupt("return");case 9:if(e.state.isReserve){t.next=15;break}return e.setState({isReserve:!0,isPickingGuests:!1,isPickingDates:!1}),t.abrupt("return");case 15:return a=e.createFinalOrder(),t.next=18,e.props.onAddOrder(a);case 18:f.emit("on-reserve-order",a.host),e.setState({isReserve:!1}),e.props.onSetMsg({type:"success",txt:"Order Sent!"}),setTimeout((function(){e.props.history.push("/")}),2500);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(O.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.reviewsNumber,t=pe.getRandomIntInclusive(30,500),window.addEventListener("click",this.closeInputs),this.setState({reviewsNumber:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.closeInputs)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isPickingDates,s=t.isPickingGuests,c=t.isFinalReserve,r=t.isReserve,a=t.reviewsNumber,i=this.props,o=i.stay,l=i.currOrder;return l?Object(J.jsxs)("div",{className:"order-modal",children:[Object(J.jsxs)("div",{className:"flex space-between align-center",children:[Object(J.jsxs)("span",{className:"price fs22 medium",children:["$",o.price,Object(J.jsx)("span",{className:"fs16 light clr2",children:" / night"})]}),Object(J.jsxs)("div",{className:"rating-container flex align-center",children:[Object(J.jsx)(nt.a,{className:"star-icon",icon:st.f}),Object(J.jsx)("span",{className:"fs14 medium clr2",children:" 5"}),Object(J.jsxs)("span",{className:"rating medium fs14 clr1 ",children:[" (",a," reviews)  "]})]})]}),Object(J.jsxs)("form",{className:"",children:[Object(J.jsxs)("div",{className:"flex column",onClick:this.preventPropagation,children:[Object(J.jsxs)("div",{className:"input-container pointer flex ".concat(n?"focus":""),children:[Object(J.jsxs)("div",{className:"check-in",onClick:function(){return e.activeInput("date")},children:[Object(J.jsx)("span",{className:"date-label fs10 bold",children:"CHECK-IN:"}),Object(J.jsx)("input",{className:"light fs14",type:"text",placeholder:"Add dates",name:"checkIn",value:new Date(l.checkIn).toLocaleString("en-IL",{month:"short",day:"numeric"})||"",disabled:!0,style:{outline:"none"},onClick:function(){return e.activeInput("date")}})]}),Object(J.jsxs)("div",{className:"check-out",onClick:function(){return e.activeInput("date")},children:[Object(J.jsx)("span",{className:"date-label fs10 bold ",children:"CHECK-OUT:"}),Object(J.jsx)("input",{className:"light fs14",type:"text",placeholder:"Add dates",name:"checkOut",value:new Date(l.checkOut).toLocaleString("en-IL",{month:"short",day:"numeric"})||"",disabled:!0,style:{outline:"none"}})]})]}),Object(J.jsx)("label",{className:"guests ".concat(s?"focus":""),children:Object(J.jsxs)("div",{className:"flex column  ",children:[Object(J.jsx)("span",{className:"bold fs10",children:"GUESTS"}),Object(J.jsxs)("button",{onClick:function(){return e.activeInput("guest")},className:"fs14 confirm-guests light clr2",type:"button",children:[Object(J.jsx)("span",{}),this.getTotalGuests()]})]})})]}),Object(J.jsxs)("div",{className:"flex column",children:[!r&&Object(J.jsx)("button",{onMouseMove:this.onSetColor,ref:this.inputRef,className:"confirm-order fs16",type:"button",onClick:this.onSubmit,children:Object(J.jsx)("span",{children:"Check availability"})}),r&&Object(J.jsx)("button",{onMouseMove:this.onSetColor,ref:this.inputRef,className:"confirm-order fs16 medium",onClick:this.onSubmit,children:"Reserve"})]}),Object(J.jsxs)("div",{className:"".concat(s?"":"none"),children:[" ",s&&Object(J.jsx)(we,{handleGuestsChanege:this.handleGuestsChanege})," "]}),Object(J.jsxs)("div",{className:n?"":"none",children:[" ",n&&Object(J.jsx)(xe,{order:l,preventPropagation:this.preventPropagation,handlePickingDates:this.handlePickingDates})," "]}),Object(J.jsxs)("div",{className:r?"":"none",children:[" ",r&&Object(J.jsx)(Bt,{order:l,stay:o})," "]}),Object(J.jsx)(zt,{animateClassName:c?"slide-in-bottom":""})]})]}):Object(J.jsx)("div",{className:"flex align-center justify-center order-modal",children:Object(J.jsx)(ye.a,{type:"ThreeDots",color:"#FF385C",height:100,width:100})})}}]),n}(c.a.Component);var Ut={onAddOrder:Se,onUpdateOrder:Me,onSetOrder:Le,onSetMsg:He},Ft=Object(i.b)((function(e){return{stays:e.stayReducer.stays,currOrder:e.orderReducer.currOrder,user:e.userReducer.loggedInUser}}),Ut)(Object(K.f)(Et)),Ht=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"m15.9999 20.33323c2.0250459 0 3.66667 1.6416241 3.66667 3.66667s-1.6416241 3.66667-3.66667 3.66667-3.66667-1.6416241-3.66667-3.66667 1.6416241-3.66667 3.66667-3.66667zm0 2c-.9204764 0-1.66667.7461936-1.66667 1.66667s.7461936 1.66667 1.66667 1.66667 1.66667-.7461936 1.66667-1.66667-.7461936-1.66667-1.66667-1.66667zm.0001-7.33323c3.5168171 0 6.5625093 2.0171251 8.0432368 4.9575354l-1.5143264 1.5127043c-1.0142061-2.615688-3.5549814-4.4702397-6.5289104-4.4702397s-5.5147043 1.8545517-6.52891042 4.4702397l-1.51382132-1.5137072c1.48091492-2.939866 4.52631444-4.9565325 8.04273174-4.9565325zm.0001-5.3332c4.9804693 0 9.3676401 2.540213 11.9365919 6.3957185l-1.4470949 1.4473863c-2.1746764-3.5072732-6.0593053-5.8431048-10.489497-5.8431048s-8.31482064 2.3358316-10.48949703 5.8431048l-1.44709488-1.4473863c2.56895177-3.8555055 6.95612261-6.3957185 11.93659191-6.3957185zm-.0002-5.3336c6.4510616 0 12.1766693 3.10603731 15.7629187 7.9042075l-1.4304978 1.4309874c-3.2086497-4.44342277-8.4328305-7.3351949-14.3324209-7.3351949-5.8991465 0-11.12298511 2.89133703-14.33169668 7.334192l-1.43047422-1.4309849c3.58629751-4.79760153 9.31155768-7.9032071 15.7621709-7.9032071z"})})},Gt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"M10 5a2 2 0 0 1 1.995 1.85L12 7v8h8V7a2 2 0 0 1 1.85-1.995L22 5h2a2 2 0 0 1 1.995 1.85L26 7v2h2a2 2 0 0 1 1.995 1.85L30 11v4h2v2h-2v4a2 2 0 0 1-1.85 1.995L28 23h-2v2a2 2 0 0 1-1.85 1.995L24 27h-2a2 2 0 0 1-1.995-1.85L20 25v-8h-8v8a2 2 0 0 1-1.85 1.995L10 27H8a2 2 0 0 1-1.995-1.85L6 25v-2H4a2 2 0 0 1-1.995-1.85L2 21v-4H0v-2h2v-4a2 2 0 0 1 1.85-1.995L4 9h2V7a2 2 0 0 1 1.85-1.995L8 5zm14 2h-2v18h2zM10 7H8v18h2zm18 4h-2v10h2zM6 11H4v10h2z"})})},_t=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"M16 2a5 5 0 0 1 1.661 9.717 1.002 1.002 0 0 0-.653.816l-.008.126v.813l13.23 9.052a3 3 0 0 1 1.299 2.279l.006.197a3 3 0 0 1-3 3H3.465a3 3 0 0 1-1.694-5.476L15 13.472v-.813c0-1.211.724-2.285 1.816-2.757l.176-.07a3 3 0 1 0-3.987-3.008L13 7h-2a5 5 0 0 1 5-5zm0 13.211L2.9 24.175A1 1 0 0 0 3.465 26h25.07a1 1 0 0 0 .565-1.825z"})})},Wt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"M26 1a5 5 0 0 1 5 5c0 6.389-1.592 13.187-4 14.693V31h-2V20.694c-2.364-1.478-3.942-8.062-3.998-14.349L21 6l.005-.217A5 5 0 0 1 26 1zm-9 0v18.118c2.317.557 4 3.01 4 5.882 0 3.27-2.183 6-5 6s-5-2.73-5-6c0-2.872 1.683-5.326 4-5.882V1zM2 1h1c4.47 0 6.934 6.365 6.999 18.505L10 21H3.999L4 31H2zm14 20c-1.602 0-3 1.748-3 4s1.398 4 3 4 3-1.748 3-4-1.398-4-3-4zM4 3.239V19h3.995l-.017-.964-.027-.949C7.673 9.157 6.235 4.623 4.224 3.364l-.12-.07zm19.005 2.585L23 6l.002.31c.045 4.321 1.031 9.133 1.999 11.39V3.17a3.002 3.002 0 0 0-1.996 2.654zm3.996-2.653v14.526C27.99 15.387 29 10.4 29 6a3.001 3.001 0 0 0-2-2.829z"})})},Vt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"m11.6667 0-.00095 1.666h8.667l.00055-1.666h2l-.00055 1.666 6.00065.00063c1.0543745 0 1.9181663.81587127 1.9945143 1.85073677l.0054857.14926323v15.91907c0 .4715696-.1664445.9258658-.4669028 1.2844692l-.1188904.1298308-8.7476886 8.7476953c-.3334303.3332526-.7723097.5367561-1.2381975.5778649l-.1758207.0077398h-12.91915c-2.68874373 0-4.88181754-2.1223321-4.99538046-4.7831124l-.00461954-.2168876v-21.66668c0-1.05436021.81587582-1.91815587 1.85073739-1.99450431l.14926261-.00548569 5.999-.00063.00095-1.666zm16.66605 11.666h-24.666v13.6673c0 1.5976581 1.24893332 2.9036593 2.82372864 2.9949072l.17627136.0050928 10.999-.0003.00095-5.6664c0-2.6887355 2.122362-4.8818171 4.7832071-4.9953804l.2168929-.0046196 5.66595-.0006zm-.081 8-5.58495.0006c-1.5977285 0-2.9037573 1.2489454-2.9950071 2.8237299l-.0050929.1762701-.00095 5.5864zm-18.586-16-5.999.00062v5.99938h24.666l.00065-5.99938-6.00065-.00062.00055 1.66733h-2l-.00055-1.66733h-8.667l.00095 1.66733h-2z"})})},qt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"M16 1c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15C1 7.716 7.716 1 16 1zm0 2C8.82 3 3 8.82 3 16s5.82 13 13 13 13-5.82 13-13S23.18 3 16 3zm-4.9 14a5.006 5.006 0 0 0 3.9 3.9v2.03A7.005 7.005 0 0 1 9.071 17zm9.8 0l2.029.001a7.005 7.005 0 0 1-5.928 5.928v-2.03A5.006 5.006 0 0 0 20.9 17zM16 13a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm0 2a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm1.001-5.929A7.005 7.005 0 0 1 22.929 15H20.9A5.006 5.006 0 0 0 17 11.1zm-2.001 0v2.03A5.006 5.006 0 0 0 11.1 15H9.07A7.005 7.005 0 0 1 15 9.07zM23 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})})},Qt=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"M9 29v-2h2v-2H6a5 5 0 0 1-4.995-4.783L1 20V8a5 5 0 0 1 4.783-4.995L6 3h20a5 5 0 0 1 4.995 4.783L31 8v12a5 5 0 0 1-4.783 4.995L26 25h-5v2h2v2zm10-4h-6v2h6zm7-20H6a3 3 0 0 0-2.995 2.824L3 8v12a3 3 0 0 0 2.824 2.995L6 23h20a3 3 0 0 0 2.995-2.824L29 20V8a3 3 0 0 0-2.824-2.995z"})})};function Xt(e){switch(e.amenity.toLowerCase()){case"kitchen":return Object(J.jsxs)("div",{className:"amenity-container flex gap5",children:[Object(J.jsx)(Wt,{}),Object(J.jsx)("p",{children:"Kitchen"})]});case"tv":return Object(J.jsxs)("div",{className:"amenity-container flex gap5",children:[Object(J.jsx)(Qt,{}),Object(J.jsx)("p",{children:"TV"})]});case"long stay":return Object(J.jsxs)("div",{className:"amenity-container flex gap5",children:[Object(J.jsx)(Vt,{}),Object(J.jsx)("p",{children:"Long-term stays allowed"})]});case"wifi":return Object(J.jsxs)("div",{className:"amenity-container flex gap5",children:[Object(J.jsx)(Dt,{}),Object(J.jsx)("p",{children:"Wi-Fi"})]});case"air conditioning":return Object(J.jsxs)("div",{className:"amenity-container flex gap5",children:[Object(J.jsx)(Ht,{}),Object(J.jsx)("p",{children:"Air conditioning"})]});case"smoke alarm":return Object(J.jsxs)("div",{className:"amenity-container flex gap5",children:[Object(J.jsx)(qt,{}),Object(J.jsx)("p",{children:"Smoke Alarm"})]});case"gym":return Object(J.jsxs)("div",{className:"amenity-container flex gap5",children:[Object(J.jsx)(Gt,{}),Object(J.jsx)("p",{children:"Gym"})]});case"hangers":return Object(J.jsxs)("div",{className:"amenity-container flex gap5",children:[Object(J.jsx)(_t,{}),Object(J.jsx)("p",{children:"Hangers"})]});default:return null}}function Yt(e){var t=e.reviews,n=t.reduce((function(e,t){var n=t.rate;for(var s in n)e[s]+=n[s];return e}),{cleanliness:0,communication:0,checkin:0,accuracy:0,value:0,location:0});return Object(J.jsxs)("div",{className:"reviews-points-container",children:[Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsx)("p",{children:"Cleanliness"}),Object(J.jsxs)("div",{className:"flex full-bar align-center",children:[Object(J.jsx)("div",{className:"review-point-bar",children:Object(J.jsx)("div",{style:{width:"".concat(n.cleanliness/t.length/5*100,"%")},className:"review-point-inner-bar"})}),(n.cleanliness/t.length).toFixed(1)]})]}),Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsx)("p",{children:"Communication"}),Object(J.jsxs)("div",{className:"flex full-bar align-center",children:[Object(J.jsx)("div",{className:"review-point-bar",children:Object(J.jsx)("div",{style:{width:"".concat(n.communication/t.length/5*100,"%")},className:"review-point-inner-bar"})}),(n.communication/t.length).toFixed(1)]})]}),Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsx)("p",{children:"Check-in"}),Object(J.jsxs)("div",{className:"flex full-bar align-center",children:[Object(J.jsx)("div",{className:"review-point-bar",children:Object(J.jsx)("div",{style:{width:"".concat(n.checkin/t.length/5*100,"%")},className:"review-point-inner-bar"})}),(n.checkin/t.length).toFixed(1)]})]}),Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsx)("p",{children:"Accuracy"}),Object(J.jsxs)("div",{className:"flex full-bar align-center",children:[Object(J.jsx)("div",{className:"review-point-bar",children:Object(J.jsx)("div",{style:{width:"".concat(n.accuracy/t.lengt/5*100," % ")},className:"review-point-inner-bar"})}),(n.accuracy/t.length).toFixed(1)]})]}),Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsx)("p",{children:"Location"}),Object(J.jsxs)("div",{className:"flex full-bar align-center",children:[Object(J.jsx)("div",{className:"review-point-bar",children:Object(J.jsx)("div",{style:{width:"".concat(n.location/t.length/5*100,"%")},className:"review-point-inner-bar"})}),(n.location/t.length).toFixed(1)]})]}),Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsx)("p",{children:"Value"}),Object(J.jsxs)("div",{className:"flex full-bar align-center",children:[Object(J.jsx)("div",{className:"review-point-bar",children:Object(J.jsx)("div",{style:{width:"".concat(n.location/t.length/5*100,"%")},className:"review-point-inner-bar"})}),(n.value/t.length).toFixed(1)]})]})]})}function Kt(e){var t=e.review;return Object(J.jsxs)("div",{className:"review-preview",children:[Object(J.jsxs)("div",{className:"review-preview-header flex gap10",children:[Object(J.jsx)("img",{className:"user-profile-img",src:t.by.imgUrl,alt:""}),Object(J.jsx)("div",{className:"review-preview-name-date flex column",children:Object(J.jsxs)("p",{children:["  ",Object(J.jsx)("span",{className:"user-name bold",children:t.by.fullname})," ",Object(J.jsx)("br",{}),Object(J.jsx)("span",{className:"fade-font",children:t.date})," "]})})]}),Object(J.jsx)("p",{children:t.desc})]})}function Jt(e){var t=e.reviews;return Object(J.jsx)("div",{className:"reviews-container",children:t.map((function(e,t){return Object(J.jsx)(Kt,{review:e},t)}))})}var Zt=n(131),$t=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={width:"100%",height:"300px"},e}return Object(Q.a)(n,[{key:"render",value:function(){var e=this.props,t=e.lat,n=e.lng;return Object(J.jsx)(Zt.Map,{google:this.props.google,zoom:10,initialCenter:{lat:t,lng:n},center:{lat:t,lng:n},containerStyle:this.state,children:Object(J.jsx)(Zt.Marker,{title:"Marker",name:"Marker",position:{lat:t,lng:n}})})}}]),n}(c.a.Component),en=Object(Zt.GoogleApiWrapper)({apiKey:"AIzaSyBWY-vmGWLAbqqbJ6uQwlw6G1FPxlH_5Ms"})($t),tn=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"16px",width:"16px",fill:"rgb(255, 56, 92)"},children:Object(J.jsx)("path",{d:"M16 .798l.555.37C20.398 3.73 24.208 5 28 5h1v12.5C29 25.574 23.21 31 16 31S3 25.574 3 17.5V5h1c3.792 0 7.602-1.27 11.445-3.832L16 .798zm7 9.08l-9.5 9.501-4.5-4.5L6.879 17l6.621 6.621L25.121 12 23 9.879z"})})},nn=function(){return Object(J.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",height:"24px",width:"24px",fill:"currentcolor"},children:Object(J.jsx)("path",{d:"m16 28c7-4.733 14-10 14-17 0-1.792-.683-3.583-2.05-4.95-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05l-2.051 2.051-2.05-2.051c-1.367-1.366-3.158-2.05-4.95-2.05-1.791 0-3.583.684-4.949 2.05-1.367 1.367-2.051 3.158-2.051 4.95 0 7 7 12.267 14 17z"})})},sn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isLike:!1},e.likeStay=function(t){t.preventDefault();var n=e.state.isLike;e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{isLike:!n})}))},e}return Object(Q.a)(n,[{key:"render",value:function(){var e=this.props,t=e.stay,n=e.property,s=this.state.isLike,c={dots:!0,infinite:!0,arrows:!0,speed:500,slidesToShow:1,slidesToScroll:1,appendDots:function(e){return Object(J.jsx)("ul",{children:e.slice(0,5)})}};return Object(J.jsxs)(J.Fragment,{children:["preview"===n&&Object(J.jsxs)("button",{onClick:this.likeStay,className:"like-tag ".concat(s?"like":""),children:[" ",Object(J.jsx)(nn,{})," "]}),Object(J.jsx)(mt.a,Object(d.a)(Object(d.a)({className:"slider-img"},c),{},{children:t.imgUrls.slice(0,5).map((function(e,t){return Object(J.jsx)("img",{className:"stay-img",src:e,alt:""},t)}))}))]})}}]),n}(s.Component),cn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={stay:null,host:null,reviews:0,beds:0,baths:0,screenWidth:window.innerWidth},e.onResizeScreen=function(t){var n=t.target;e.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{screenWidth:n.innerWidth})}))},e.loadStay=Object(O.a)(x.a.mark((function t(){var n,s,c,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.stayId,s=new URLSearchParams(e.props.location.search),t.prev=2,t.next=5,be.getById(n);case 5:if(c=t.sent,e.props.currOrder){t.next=11;break}return(r=pe.getQueryParams(s)).checkIn&&r.checkOut&&(r.checkIn=new Date(+r.checkIn),r.checkOut=new Date(+r.checkOut)),t.next=11,e.props.onSetOrder(r);case 11:e.setState({stay:c}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),e.props.history.push("/stay?".concat(s));case 17:case"end":return t.stop()}}),t,null,[[2,14]])}))),e.handlePickingDates=function(t,n){var s=Object(d.a)({},e.props.currOrder);n?s.checkOut=Date.parse(n):s.checkOut||(s.checkOut=""),s.checkIn=Date.parse(t),e.props.onUpdateOrder(s)},e.preventPropagation=function(e){e.stopPropagation()},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(O.a)(x.a.mark((function e(){var t,n,s,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("resize",this.onResizeScreen),t=pe.getRandomIntInclusive(30,500),n=pe.getRandomIntInclusive(2,6),s=pe.getRandomIntInclusive(1,5),e.next=6,this.loadStay();case 6:return e.next=8,A.getById(this.state.stay.host);case 8:c=e.sent,this.setState({host:c,reviews:t,beds:n,baths:s});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResizeScreen)}},{key:"render",value:function(){var e=this.state,t=e.stay,n=e.host,s=e.reviews,c=e.baths,r=e.beds,a=e.screenWidth,i=this.props.currOrder;return t&&i&&n?Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("section",{className:"stay-details-container ",children:[Object(J.jsx)("h1",{className:" fs28 fh32 medium fw-unset",children:t.name}),Object(J.jsxs)("div",{className:"flex space-between column",children:[Object(J.jsxs)("div",{className:"review-address-container flex ",children:[Object(J.jsxs)("div",{className:"flex gap5 align-center nowrap",children:[Object(J.jsx)(nt.a,{className:"star-icon",icon:st.f}),Object(J.jsx)("span",{className:" fs16 fh20 book fw-unset",children:t.rating}),Object(J.jsx)("span",{}),Object(J.jsxs)("span",{className:" fs16 fh20 book fw-unset",children:["(",s," reviews)"]})," \xb7",Object(J.jsx)("span",{children:" "})]}),Object(J.jsx)("div",{className:"fs16 fh20 book fw-unset",children:t.loc.address})]}),Object(J.jsxs)("div",{className:"flex justify-end gap20 margin-top20",children:[Object(J.jsxs)("span",{className:"flex gap5",children:[" ",Object(J.jsx)(Mt,{}),Object(J.jsx)("span",{className:"details-save-share fw-unset fs16 fh18 medium",children:"Share"})]}),Object(J.jsxs)("span",{className:"flex gap5",children:[Object(J.jsx)(ct,{className:"heart-svg"}),Object(J.jsx)("span",{className:"details-save-share fw-unset fs16 fh18 medium",children:"Save"})]})]})]}),a>=750&&Object(J.jsx)("div",{className:"stay-details-grid ",children:t.imgUrls.slice(0,5).map((function(e,t){return Object(J.jsx)("div",{className:"grid-img".concat(t," pointer"),children:Object(J.jsx)("img",{className:"img".concat(t),src:e,alt:""})},t)}))}),Object(J.jsx)("div",{className:"margin25",children:a<750&&Object(J.jsx)(sn,{stay:t,property:"details"})}),Object(J.jsxs)("div",{className:"details-main-container  flex space-between  ",children:[Object(J.jsxs)("div",{className:"details-info flex column ",children:[Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsxs)("div",{className:" flex column space-between",children:[Object(J.jsxs)("h2",{children:["Entire ",t.type," hosted by ",n.fullname]}),Object(J.jsxs)("div",{className:"flex",children:[t.capacity," guests \xb7 ",t.type," \xb7  ",r," beds \xb7 ",c," baths "]})]}),Object(J.jsx)("div",{children:Object(J.jsx)("img",{className:"user-profile-img",src:n.imgUrl,alt:""})})]}),Object(J.jsx)("div",{className:"seperation-line"}),Object(J.jsx)("div",{className:"tag-container flex column",children:t.tags.map((function(e,n){return Object(J.jsx)(Rt,{tag:e,type:t.type},n)}))}),Object(J.jsx)("div",{className:"seperation-line"}),Object(J.jsx)("div",{className:"description",children:t.description}),Object(J.jsx)("div",{className:"seperation-line"}),Object(J.jsxs)("div",{className:"amenities flex column",children:[Object(J.jsx)("h2",{className:"middle-header",children:"Amenities"}),Object(J.jsx)("div",{className:"amenities-container",children:t.amenities.map((function(e,t){return Object(J.jsx)(Xt,{amenity:e},t)}))})]}),Object(J.jsx)("div",{className:"seperation-line"}),Object(J.jsxs)("div",{children:[Object(J.jsx)("h2",{children:"Select check-in date"}),Object(J.jsx)("p",{className:"fade-font",children:"Add your travel dates for exact pricing"}),Object(J.jsx)("div",{className:"details-dates flex justify-center",children:Object(J.jsx)(xe,{order:i,className:"datepicker-details",preventPropagation:this.preventPropagation,handlePickingDates:this.handlePickingDates})})]})]}),Object(J.jsx)(Ft,{stay:t,order:i})]}),Object(J.jsx)("div",{className:"seperation-line"}),Object(J.jsxs)("div",{className:"details-reviews-header medium fh26 flex gap5",children:[Object(J.jsx)(nt.a,{className:"star-icon",icon:st.f}),t.rating,Object(J.jsx)("span",{children:"\xb7"}),pe.getRandomIntInclusive(30,500)," reviews"]}),Object(J.jsx)(Yt,{reviews:t.reviews}),Object(J.jsx)(Jt,{reviews:t.reviews}),Object(J.jsx)("div",{className:"seperation-line"}),Object(J.jsx)("h2",{children:"Where you'll be"}),Object(J.jsx)("p",{children:t.loc.address}),Object(J.jsx)("div",{className:"map-container relative",children:Object(J.jsx)(en,{lat:t.loc.lat,lng:t.loc.lng})}),Object(J.jsx)("div",{className:"seperation-line"}),Object(J.jsxs)("div",{className:"user-header flex  gap10",children:[Object(J.jsx)("img",{className:"user-details-profile-img",src:n.imgUrl,alt:""}),Object(J.jsxs)("div",{className:"user-profile-name-date flex column",children:[Object(J.jsxs)("span",{className:"user-name medium fs22 fh26",children:["Hosted by ",n.fullname]}),Object(J.jsx)("span",{className:"fs14 fh18 book clr1",children:n.joinDate||"joined in September 2016"})]})]}),Object(J.jsxs)("div",{className:"flex gap10",children:[Object(J.jsxs)("div",{className:"fs22 flex gap5",children:[Object(J.jsx)(nt.a,{className:"star-icon fs16 fh20",icon:st.f}),Object(J.jsxs)("div",{className:"fs16 fh20 book",children:[pe.getRandomIntInclusive(100,2e3).toLocaleString("en-IL")," Reviews"]})]}),Object(J.jsxs)("div",{className:" flex gap10",children:[Object(J.jsx)(tn,{className:"clr3"}),Object(J.jsx)("div",{className:"fs16 fh20 book",children:"Identity verified"})]})]}),Object(J.jsxs)("div",{className:" respond-container",children:[Object(J.jsx)("p",{className:"fs16 fh20 book",children:"Response rate: 99%"}),Object(J.jsx)("p",{className:"fs16 fh20 book",children:"Response time: within an hour"})]}),Object(J.jsx)("button",{className:"contact-host fs16 fh20 medium",children:"Contact host"})]})}):Object(J.jsx)("div",{className:"flex align-center justify-center full",children:Object(J.jsx)(ye.a,{type:"ThreeDots",color:"#FF385C",height:100,width:100})})}}]),n}(s.Component);var rn={onAddOrder:Se,onUpdateOrder:Me,onSetOrder:Le},an=Object(i.b)((function(e){return{stays:e.stayReducer.stays,currOrder:e.orderReducer.currOrder}}),rn)(cn);function on(e){var t=e.stay,n=e.orderParams,s=(e.idx,pe.makeQueryParams(n));return Object(J.jsx)(W.b,{className:"link-detail",to:"/stay/".concat(t._id,"?").concat(s),children:Object(J.jsxs)("div",{className:"stay-container",children:[Object(J.jsx)(sn,{stay:t,property:"preview"}),Object(J.jsxs)("div",{className:"flex column mrt10",children:[Object(J.jsxs)("div",{className:"flex space-between",children:[Object(J.jsxs)("h2",{className:"fs14 fh18 airbnb-book fw-unset mrb2",children:[" ",Object(J.jsx)(nt.a,{className:"star-icon clr3",icon:st.f})," ",Object(J.jsx)("span",{className:"clr2",children:t.rating}),Object(J.jsxs)("span",{className:"clr1",children:["(",pe.getRandomIntInclusive(30,400),")"]})]}),Object(J.jsxs)("h2",{className:"fs16 fh20 clr2 airbnb-book fw-unset ",children:[Object(J.jsxs)("span",{className:"airbnb-bold ",children:["$",t.price]})," / night"]})]}),Object(J.jsxs)("h2",{className:"fs16 fh20 clr2 airbnb-book fw-unset mrb2",children:[t.type," \u2022 ",t.loc.address.split(",")[0]]}),Object(J.jsx)("h2",{className:"clr2 fs16 fh20 airbnb-book fw-unset mrb2",children:t.name})]})]})})}var ln=n(548),dn=n(547),un=n(238),hn=n(546),jn=n(24),pn=(n(544),["children"]),bn=Object(jn.a)(hn.b)((function(e){var t=e.theme;return{color:"#3a8589",height:3,padding:"13px 0","& .MuiSlider-thumb":{height:27,width:27,backgroundColor:"#fff",border:"1px solid currentColor","&:hover":{boxShadow:"0 0 0 8px rgba(58, 133, 137, 0.16)"},"& .airbnb-bar":{height:9,width:1,backgroundColor:"currentColor",marginLeft:1,marginRight:1}},"& .MuiSlider-track":{height:3},"& .MuiSlider-rail":{color:"dark"===t.palette.mode?"#bfbfbf":"#d8d8d8",opacity:"dark"===t.palette.mode?void 0:1,height:3}}})),fn=function(e){var t=e.children,n=Object(un.a)(e,pn);return Object(J.jsxs)(hn.a,Object(d.a)(Object(d.a)({},n),{},{children:[t,Object(J.jsx)("span",{className:"airbnb-bar"}),Object(J.jsx)("span",{className:"airbnb-bar"}),Object(J.jsx)("span",{className:"airbnb-bar"})]}))};function mn(e){var t=Object(s.useState)([0,100]),n=Object(te.a)(t,2),c=n[0],r=n[1],a=function(e){var t=e.target,n=t.name,s=t.value;s=+s,isNaN(s)||("minPrice"===n?c[0]=s:"maxPrice"===n&&(c[1]=s),r(Object(h.a)(c)))};return Object(J.jsxs)("div",{className:"price-filter",onClick:function(e){e.stopPropagation()},children:[Object(J.jsx)(dn.a,{className:"margin0",sx:{m:3}}),Object(J.jsx)(ln.a,{className:"margin0",gutterBottom:!0,children:Object(J.jsx)("span",{className:"fs20 medium",children:" Change Price"})}),Object(J.jsx)(bn,{components:{Thumb:fn},getAriaLabel:function(e){return 0===e?"Minimum price":"Maximum price"},defaultValue:[20,40],value:c,onChange:function(e,t,n){Array.isArray(t)&&r(0===n?[Math.min(t[0],c[1]-20),c[1]]:[c[0],Math.max(t[1],c[0]+20)])},valueLabelDisplay:"auto",min:0,max:500,disableSwap:!0}),Object(J.jsxs)("div",{className:"inputs-price flex gap10",children:[Object(J.jsx)("label",{className:"pointer round-edge",children:Object(J.jsxs)("div",{className:"price-input round-edge",children:[Object(J.jsx)("span",{className:"fs10 book clr1",children:"min price"}),Object(J.jsx)("input",{className:" pointer fs16 book clr2",name:"minPrice",type:"text",onChange:a,value:c[0]})]})}),Object(J.jsx)("span",{className:"flex align-center",children:"-"}),Object(J.jsx)("label",{className:"pointer round-edge",children:Object(J.jsxs)("div",{className:"price-input  round-edge",children:[Object(J.jsx)("span",{className:"fs10 book clr1",children:"max price"}),Object(J.jsx)("input",{className:"pointer fs16 book clr2",name:"maxPrice",type:"text",onChange:a,value:c[1]})]})})]}),Object(J.jsx)("div",{className:"btn-price"}),Object(J.jsxs)("div",{className:"btn-inputs flex white space-between",children:[Object(J.jsx)("button",{className:"btn",onClick:function(){e.onSavePrice([0,500])},children:"Clear"}),Object(J.jsx)("button",{className:"btn",onClick:function(){e.onSavePrice(c),e.onCloseFilters()},children:"Save"})]})]})}var xn=n(545),On=n(542),vn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={types:[],amenities:[]},e.checkTypeExists=function(){var t,n,s=e.props,c=s.stays,r=s.property,a=s.currFilter;"type"===r?(t=c.reduce((function(e,t){var n=t[r][0].toUpperCase()+t[r].substring(1);if(!e.some((function(e){return e.name===n}))){var s=!1;a.some((function(e){return e.name===n&&e.isChecked}))&&(s=!0),e.push({name:n,isChecked:s})}return e}),[]),e.setState({types:t})):"amenities"===r&&(n=c.reduce((function(e,t){var n,s=Object(ee.a)(t[r]);try{var c=function(){var t=n.value,s=t[0].toUpperCase()+t.substring(1);if(!e.some((function(e){return e.name===s}))){var c=!1;a.some((function(e){return e.name===s&&e.isChecked}))&&(c=!0),e.push({name:s,isChecked:c})}};for(s.s();!(n=s.n()).done;)c()}catch(i){s.e(i)}finally{s.f()}return e}),[]),e.setState({amenities:n},(function(){})))},e.saveChecked=function(t){var n=e.props.property,s=t.target,c=s.name,r=s.checked,a="type"===n?"types":[n],i=e.state[a].map((function(e){return e.name===c&&(e.isChecked=r),e}));e.setState(Object($.a)({},a,i))},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){this.checkTypeExists()}},{key:"componentDidUpdate",value:function(e,t){e.currFilter!==this.props.currFilter&&this.checkTypeExists()}},{key:"render",value:function(){var e=this,t=this.props.property,n="type"===t?"types":[t];return Object(J.jsx)(On.a,{onClickAway:this.props.onCloseFilters,children:Object(J.jsxs)("div",{className:"type-filter space-between flex column gap10 round-edge",children:[this.state[n].map((function(t,n){return Object(J.jsxs)("label",{children:[Object(J.jsx)(xn.a,{size:"small",name:t.name,value:t.isChecked,checked:t.isChecked,onChange:e.saveChecked}),t.name]},n)})),Object(J.jsxs)("div",{className:"btn-inputs flex white space-between",children:[Object(J.jsx)("button",{onClick:function(){e.props.setCheckedPropertyType([],n)},className:"btn",children:"Clear"}),Object(J.jsx)("button",{className:"btn",onClick:function(){e.props.setCheckedPropertyType(e.state[n].length?e.state[n]:null,n),e.props.onCloseFilters()},children:"Save"})]})]})})}}]),n}(s.Component),gn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isPrice:!1,isPropertyType:!1,isAmenities:!1},e.onCloseFilters=function(){e.setState({isPrice:!1,isPropertyType:!1,isAmenities:!1})},e.toggelPriceFilter=function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onCloseFilters();case 2:n.stopPropagation(),e.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{isPrice:!e.state.isPrice})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggelPropertyTypeFilter=function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onCloseFilters();case 2:n.stopPropagation(),e.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{isPropertyType:!e.state.isPropertyType})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggelAmenitiesFilter=function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),t.next=3,e.onCloseFilters();case 3:e.setState((function(t){return Object(d.a)(Object(d.a)({},t),{},{isAmenities:!e.state.isAmenities})}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(Q.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isPrice,n=e.isPropertyType,s=e.isAmenities,c=this.props,r=c.stays,a=c.setCheckedPropertyType,i=c.currAmenities,o=c.currTypes;return Object(J.jsxs)("section",{className:"filter-container flex gap10 ",children:[Object(J.jsxs)("div",{className:"price-container ",children:[Object(J.jsx)("button",{className:"hover-grey",onClick:this.toggelPriceFilter,children:this.props.minPrice()}),t&&Object(J.jsx)(mn,{stays:r,onSavePrice:this.props.onSavePrice,onCloseFilters:this.onCloseFilters})]}),Object(J.jsxs)("div",{className:"type-container ",children:[Object(J.jsx)("button",{className:"hover-grey",onClick:this.toggelPropertyTypeFilter,children:"Property Type"}),n&&Object(J.jsx)(vn,{property:"type",stays:r,setCheckedPropertyType:a,currFilter:o,onCloseFilters:this.onCloseFilters})]}),Object(J.jsxs)("div",{className:"amenities-container-filter ",children:[Object(J.jsx)("button",{className:"hover-grey",onClick:this.toggelAmenitiesFilter,children:"Amenities"}),s&&Object(J.jsx)(vn,{property:"amenities",stays:r,setCheckedPropertyType:a,currFilter:i,onCloseFilters:this.onCloseFilters})]})]})}}]),n}(s.Component),yn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={orderParams:null,filterBy:{price:{minPrice:-1/0,maxPrice:1/0},propertyTypes:[],amenities:[]},isOpenFilter:!1,screenWidth:window.innerWidth},e.setCheckedPropertyType=function(t,n){var s="types"===n?"propertyTypes":n;e.setState({filterBy:Object(d.a)(Object(d.a)({},e.state.filterBy),{},Object($.a)({},s,t))})},e.onSavePrice=function(t){var n={maxPrice:t[1],minPrice:t[0]};e.setState({filterBy:Object(d.a)(Object(d.a)({},e.state.filterBy),{},{price:n})})},e.minPrice=function(){var t=e.state.filterBy.price,n=t.minPrice,s=t.maxPrice;return n!==-1/0||s!==1/0&&500!==s?s!==1/0&&500!==s||n===-1/0?n===-1/0&&s<500?"Up to $".concat(s):s<500&&n!==-1/0?"$".concat(n," - $").concat(s):void 0:"$".concat(n,"+"):"Price"},e.checkAmenities=function(e,t){var n,s=t.map((function(e){return e[0].toUpperCase()+e.substring(1)})),c=Object(ee.a)(e);try{for(c.s();!(n=c.n()).done;){var r,a=n.value;if(a=(null===(r=a.name[0])||void 0===r?void 0:r.toUpperCase())+a.name.substring(1),!s.includes(a))return!1}}catch(i){c.e(i)}finally{c.f()}return!0},e.onLoadStays=function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadStays(n);case 2:(s=e.props.stays).map((function(e){for(var t=e.imgUrls.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),s=[e.imgUrls[n],e.imgUrls[t]];e.imgUrls[t]=s[0],e.imgUrls[n]=s[1]}return e})),e.props.onSetStays(s);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getStaysForDisplay=function(){var t=e.props.stays;if(t.length){var n=e.state.filterBy,s=n.propertyTypes,c=n.price,r=n.amenities,a=s.filter((function(e){return e.isChecked})),i=r.filter((function(e){return e.isChecked}));return t=t.filter((function(t){var n=t.type[0].toUpperCase()+t.type.substring(1);return a.length?s.some((function(e){return e.isChecked&&e.name===n})):i.length?e.checkAmenities(r,t.amenities):t.price>=c.minPrice&&t.price<=c.maxPrice}))}},e.capitalizeFirstLetter=function(e){return e?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "):"popular cities"},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(this.props.location.search),t=pe.getQueryParams(e);this.onLoadStays(t),this.setState({orderParams:t})}},{key:"render",value:function(){var e=this.getStaysForDisplay(),t=this.state.orderParams,n=this.state.filterBy,s=n.propertyTypes,c=n.amenities;return t?Object(J.jsxs)("div",{className:"list-container",children:[Object(J.jsxs)("h1",{className:"count-stays airbnb-book fs14 fh18 fw-unset",children:[null===e||void 0===e?void 0:e.length," Stays "]}),Object(J.jsxs)("h1",{className:"city-name",children:["Stays in ",this.capitalizeFirstLetter(t.address)]}),Object(J.jsx)("div",{className:"list-filter",children:Object(J.jsx)(gn,{stays:this.props.stays,minPrice:this.minPrice,setCheckedPropertyType:this.setCheckedPropertyType,onSavePrice:this.onSavePrice,currTypes:s,currAmenities:c})}),Object(J.jsx)("div",{className:"stay-list",children:null===e||void 0===e?void 0:e.map((function(e,n){return Object(J.jsx)(on,{stay:e,orderParams:t},e._id)}))})]}):Object(J.jsx)("div",{className:"flex align-center justify-center list-loader",children:Object(J.jsx)(ye.a,{type:"ThreeDots",color:"#FF385C",height:100,width:100})})}}]),n}(c.a.Component);var kn={loadStays:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,be.query(e);case 3:s=t.sent,n({type:"SET_STAYS",stays:s}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"error is");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},onSetOrder:Le,onSetStays:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"SET_STAYS",stays:e})}catch(s){console.log("err",s)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},wn=Object(i.b)((function(e){return{stays:e.stayReducer.stays}}),kn)(yn);function Nn(e){return Object(J.jsxs)("tr",{children:[Object(J.jsx)("td",{children:Object(J.jsx)("img",{src:e.asset.imgUrls[0],alt:""})}),Object(J.jsx)("td",{className:"bold flex",children:e.asset.name}),Object(J.jsx)("td",{children:e.asset.type}),Object(J.jsx)("td",{children:e.asset.loc.address}),Object(J.jsx)("td",{children:Object(J.jsxs)("span",{className:"fs18",children:["$",e.asset.price.toLocaleString("en-IL")]})}),Object(J.jsx)("td",{className:"action-edit",children:Object(J.jsx)("button",{onClick:function(){e.toggleComponent({isAddAsset:!0,isMyAsset:!1,isOrders:!1,isRates:!1},e.asset)},children:"Edit"})})]})}var Cn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={sortPrice:{isOnPrice:!1,sortByPrice:"up"},sortType:{isOnType:!1,sortByType:"up"}},e.TogglesortPrice=function(){var t=e.state.sortPrice,n=t.sortByPrice,s=t.isOnPrice;s?(n="up"===n?"down":"up",e.setState({sortPrice:Object(d.a)(Object(d.a)({},t),{},{sortByPrice:n})})):e.setState({sortPrice:Object(d.a)(Object(d.a)({},t),{},{isOnPrice:!s})})},e.toggleSortType=function(){var t=e.state.sortType,n=t.sortByType,s=t.isOnType;s?(n="up"===n?"down":"up",e.setState({sortType:Object(d.a)(Object(d.a)({},t),{},{sortByType:n})},(function(){}))):e.setState({sortType:Object(d.a)(Object(d.a)({},t),{},{isOnType:!s})})},e.sortPrice=function(){var t=e.props.assets,n=e.state.sortPrice.sortByPrice;return t.sort((function(e,t){return"up"===n?e.price-t.price:t.price-e.price}))},e.sortType=function(){var t=e.props.assets,n=e.state.sortType.sortByType;return t.sort((function(e,t){return"up"===n?e.type<t.type?-1:e.type>t.type?1:0:e.type<t.type?1:e.type>t.type?-1:0}))},e.getAssetsForDisplay=function(){var t=e.props.assets,n=e.state.sortPrice.isOnPrice,s=e.state.sortType.isOnType;return n&&(t=e.sortPrice()),s&&(t=e.sortType()),t},e}return Object(Q.a)(n,[{key:"render",value:function(){var e=this,t=this.state.sortPrice.isOnPrice,n=this.state.sortType.isOnType,s=this.getAssetsForDisplay();return Object(J.jsxs)("table",{className:"host-list",children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{}),Object(J.jsx)("th",{children:"Name"}),Object(J.jsx)("th",{className:"sort ".concat(n?"black":""),onClick:this.toggleSortType,children:"Type"}),Object(J.jsx)("th",{children:"Address"}),Object(J.jsx)("th",{className:"sort ".concat(t?"black":""),onClick:this.TogglesortPrice,children:"Price"}),Object(J.jsx)("th",{children:"Actions"})]})}),Object(J.jsx)("tbody",{children:s.map((function(t,n){return Object(J.jsx)(Nn,{toggleComponent:e.props.toggleComponent,asset:t},n)}))})]})}}]),n}(s.Component);function Sn(e){var t=e.order,n=e.milisecToDate,s=e.updateStatusOrder;return Object(J.jsxs)("tr",{children:[Object(J.jsxs)("td",{className:"buyer bold flex",children:[window.innerWidth>460&&Object(J.jsx)("img",{src:t.buyer.imgUrl,alt:""})," ",t.buyer.fullname]}),Object(J.jsx)("td",{children:t.stay.name}),Object(J.jsx)("td",{children:n("checkIn",t)}),Object(J.jsx)("td",{children:n("checkOut",t)}),Object(J.jsx)("td",{children:t.status}),Object(J.jsxs)("td",{children:["$",t.price]}),Object(J.jsxs)("td",{className:"action",children:["Pending"===t.status&&Object(J.jsx)("button",{className:"bold",onClick:function(){s(t,"Approved")},children:"Approve"}),"Approved"===t.status&&Object(J.jsx)("button",{className:"bold",onClick:function(){s(t,"Declined")},children:"Decline"}),"Declined"===t.status&&Object(J.jsx)("button",{className:"bold",onClick:function(){s(t,"Approved")},children:"Re-Approve"})]})]},t._id)}var Mn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={sortPrice:{isOnPrice:!1,sortByPrice:"up"},sortType:{isOnType:!1,sortByType:"up"}},e.milisecToDate=function(e,t){return new Date(t[e]).toLocaleString("en-IL",{year:"numeric",month:"short",day:"numeric"})||""},e.updateStatusOrder=function(){var t=Object(O.a)(x.a.mark((function t(n,s){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.status=s,t.next=3,e.props.onUpdateStatusOrder(n);case 3:e.props.onCalcDetails(),"Approved"===s&&f.emit("on-approve-order",n.buyer._id);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e={type:"host",_id:this.props.user._id};this.props.onLoadOrders(e)}},{key:"render",value:function(){var e=this,t=this.props.orders;return t.length?Object(J.jsxs)("table",{className:"host-list order-table",children:[Object(J.jsx)("thead",{children:Object(J.jsxs)("tr",{children:[Object(J.jsx)("th",{children:"Guest Name"}),Object(J.jsx)("th",{children:"Property Name"}),Object(J.jsx)("th",{children:"Check in"}),Object(J.jsx)("th",{children:"Check out"}),Object(J.jsx)("th",{children:"Status"}),Object(J.jsx)("th",{children:"Price"}),Object(J.jsx)("th",{children:"Actions"})]})}),Object(J.jsx)("tbody",{children:t.reverse().map((function(t,n){return Object(J.jsx)(Sn,{updateStatusOrder:e.updateStatusOrder,milisecToDate:e.milisecToDate,order:t},n)}))})]}):Object(J.jsx)("div",{className:"orders-blank flex align-center justify-center",children:Object(J.jsx)("h1",{children:"There are no incoming orders"})})}}]),n}(s.Component);var Ln={onLoadOrders:Ce,onUpdateStatusOrder:function(e){try{return function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne.save(e);case 2:n({type:"UPDATE_STATUS_ORDER",order:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){throw console.log("err",t),t}}},Pn=Object(i.b)((function(e){return{orders:e.orderReducer.orders,user:e.userReducer.loggedInUser}}),Ln)(Mn);function An(e){var t=e.toggleComponent,n=e.isAddAsset,s=e.isMyAsset,c=e.isOrders,r=e.isRates;return Object(J.jsxs)("div",{className:"side-nav flex ",children:[Object(J.jsx)("button",{className:"".concat(s?"active":""," btn-nav fs14 medium clr2 "),onClick:function(){t({isAddAsset:!1,isMyAsset:!0,isOrders:!1,isRates:!1})},children:Object(J.jsx)("span",{children:"My Asset"})}),Object(J.jsx)("button",{className:"".concat(c?"active":""," btn-nav fs14 medium clr2 "),onClick:function(){t({isAddAsset:!1,isMyAsset:!1,isOrders:!0,isRates:!1})},children:Object(J.jsx)("span",{children:"Orders"})}),Object(J.jsx)("button",{className:"".concat(r?"active":""," btn-nav fs14 medium clr2"),onClick:function(){t({isAddAsset:!1,isMyAsset:!1,isOrders:!1,isRates:!0})},children:Object(J.jsx)("span",{children:"Rates"})}),Object(J.jsx)("button",{className:"".concat(n?"active":""," btn-nav fs14 medium clr2 "),onClick:function(){t({isAddAsset:!0,isMyAsset:!1,isOrders:!1,isRates:!1})},children:Object(J.jsx)("span",{children:"Add Asset"})})]})}var Tn={query:function(e){return k("stay?host=".concat(e))},save:function(e){return e._id?N("stay",e):w("stay",e)}};function In(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tn.query(e);case 3:s=t.sent,n({type:"LOAD_ASSETS",assets:s}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"error is");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}var Dn={uploadImg:function(e){var t="https://api.cloudinary.com/v1_1/".concat("dos6ziyeq","/image/upload"),n=new FormData;return n.append("file",e.target.files[0]),n.append("upload_preset","egd7wfqx"),fetch(t,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){return e.url})).catch((function(e){return console.error(e)}))}};var Rn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={asset:{imgUrls:["","","","",""],name:"",price:"",type:"Villa",capacity:"",rating:"",loc:{address:"",country:"",countryCode:"",lat:"",lng:"",city:""},amenities:[],tags:[],host:null,description:"",reviews:[],likedByUserIds:[]},propertyType:["Villa","Studio","Apartment","Room in hotel","House"],amenitiesType:["TV","Wifi","Air conditioning","Smoking allowed","Pets allowed","Cooking basics","Kitchen","Washer","Dryer","Hair dryer","Crib"],tagType:["entire to yourself","enhanced clean","self check-in","free cancellation"],isHostPage:!0},e.inputRef=c.a.createRef(null),e.editAsset=function(){e.setState({asset:e.props.currAsset,isEdit:!0},(function(){}))},e.onUploadImg=function(){var t=Object(O.a)(x.a.mark((function t(n){var s,c,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state.asset.imgUrls,t.next=3,Dn.uploadImg(n);case 3:c=t.sent,r=s.findIndex((function(e){return""===e})),s[r]=c,e.setState({imgUrls:s});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=e.state.asset,s=t.target.name,c=t.target.value;e.setState({asset:Object(d.a)(Object(d.a)({},n),{},Object($.a)({},s,c))})},e.handleChangeLoc=function(t){var n=e.state.asset,s=n.loc,c=t.target.name,r=t.target.value;e.setState({asset:Object(d.a)(Object(d.a)({},n),{},{loc:Object(d.a)(Object(d.a)({},s),{},Object($.a)({},c,r))})},(function(){e.createAddress()}))},e.saveCheckedAmenities=function(t){var n=e.state.asset,s=n.amenities,c=t.target.value;if(t.target.checked){if(s.some((function(e){return e===c})))return;s.push(c)}else{var r=s.indexOf(c);s.splice(r,1)}e.setState({asset:Object(d.a)(Object(d.a)({},n),{},{amenities:s})})},e.saveCheckedTags=function(t){var n=e.state.asset.tags,s=e.state.asset,c=t.target.value;if(t.target.checked){if(n.some((function(e){return e===c})))return;n.push(c)}else{var r=n.indexOf(c);n.splice(r,1)}e.setState({asset:Object(d.a)(Object(d.a)({},s),{},{tags:n})})},e.isChecked=function(t,n){return e.state.asset[t].find((function(e){return e===n}))},e.onAddStay=function(){var t=Object(O.a)(x.a.mark((function t(n){var s,c,r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),s=e.state.asset,c=s.amenities,r=s.tags,a=s.imgUrls,e.props.user){t.next=7;break}return e.props.onSetMsg({type:"error",txt:"Please Sign up/log in to continue"}),t.abrupt("return");case 7:if(5!==(a=a.filter((function(e){return""!==e}))).length||!c||!r){t.next=13;break}return t.next=11,e.props.addAsset(s);case 11:return t.next=13,e.props.loadAssets(e.props.host._id);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onSetColor=function(t){var n=t.clientX,s=t.clientY;e.inputRef.current.style.setProperty("--mouse-x",n),e.inputRef.current.style.setProperty("--mouse-y",s)},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,n=e.currAsset;t&&this.setState({asset:Object(d.a)(Object(d.a)({},this.state.asset),{},{host:{_id:t._id,fullname:t.fullname,imgUrl:t.imgUrl}})}),n&&this.editAsset()}},{key:"createAddress",value:function(){var e=this.state.asset,t=e.loc,n=t.city,s=t.country,c="".concat(n,", ").concat(s);this.setState({asset:Object(d.a)(Object(d.a)({},e),{},{loc:Object(d.a)(Object(d.a)({},t),{},{address:c})})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.asset,s=t.isHostPage,c=n.imgUrls,r=this.state,a=r.propertyType,i=r.amenitiesType,o=r.tagType,l=r.isEdit;return Object(J.jsx)("section",{className:"add-stay-continer",children:Object(J.jsxs)("form",{children:[Object(J.jsx)("h1",{children:"Start hosting at your place!"}),Object(J.jsxs)("div",{className:"inputs-containers flex gap30 align-center",children:[Object(J.jsxs)("label",{className:"flex column wrap",children:["Asset Name",Object(J.jsx)("input",{onChange:this.handleChange,name:"name",type:"text",value:n.name})]}),Object(J.jsxs)("label",{className:"flex column",children:["Country",Object(J.jsx)("input",{onChange:this.handleChangeLoc,name:"country",type:"text",value:n.loc.country})]}),Object(J.jsxs)("label",{className:"flex column",children:["City",Object(J.jsx)("input",{onChange:this.handleChangeLoc,name:"city",type:"text",value:n.loc.city})]})]}),Object(J.jsx)("div",{className:"add-stay-grid",children:c.map((function(t,n){return Object(J.jsxs)("div",{className:"grid-img grid-img".concat(n," medium pointer flex justify-center align-center relative"),children:[Object(J.jsxs)("label",{className:"upload-img pointer wide high flex justify-center align-center absolute ".concat(l?"f-white":"f-black"," "),children:[Object(J.jsx)("input",{onChange:e.onUploadImg,className:"img-upload-btn img".concat(n),type:"file",accept:"img/*"}),"Upload Image"]}),t&&Object(J.jsx)("img",{src:t,alt:""})]},n)}))}),Object(J.jsxs)("div",{className:"inputs-containers flex gap30 align-center",children:[Object(J.jsxs)("label",{className:"flex column",children:["Capacity",Object(J.jsx)("input",{onChange:this.handleChange,value:n.capacity,name:"capacity",type:"number"})]}),Object(J.jsxs)("label",{htmlFor:"type",className:"flex column",children:["PropertyType",Object(J.jsx)("select",{id:"type",name:"type",style:{width:"190px"},value:n.type,onChange:this.handleChange,children:a.map((function(e,t){return Object(J.jsx)("option",{value:e,children:e},t)}))})]}),Object(J.jsxs)("label",{className:"flex column",children:["Price",Object(J.jsx)("input",{onChange:this.handleChange,name:"price",value:n.price,type:"number"})]})]}),Object(J.jsxs)("div",{className:"flex gap30 column margin-top20",children:[Object(J.jsxs)("div",{className:"flex column gap5 wrap",children:[Object(J.jsx)("span",{className:"fs20 medium fw-unset ",children:"Amenities"}),i.map((function(t,n){return Object(J.jsxs)("label",{style:{width:"200px"},children:[Object(J.jsx)("input",{type:"checkbox",name:t,value:t,onChange:e.saveCheckedAmenities,checked:e.isChecked("amenities",t)}),t]},n)}))]}),Object(J.jsxs)("div",{className:"flex column gap5 wrap",children:[Object(J.jsx)("span",{className:"fs20 medium fw-unset ",children:"Tags"}),o.map((function(t,n){return Object(J.jsxs)("label",{style:{width:"200px"},children:[Object(J.jsx)("input",{type:"checkbox",name:t,value:t,checked:e.isChecked("tags",t),onChange:e.saveCheckedTags}),t]},n)}))]})]}),Object(J.jsx)("div",{className:"description flex column margin-top20",children:Object(J.jsx)("textarea",{placeholder:"Enter description for your asset here",onChange:this.handleChange,type:"text",name:"description",autoComplete:"off",value:n.description,style:{height:"200px",fontFamily:"airbnb-cereal-book",fontSize:"1rem"}})}),Object(J.jsx)("button",{onMouseMove:this.onSetColor,ref:this.inputRef,className:"add-stay-save ",onClick:this.onAddStay,children:"Save"}),Object(J.jsx)(zt,{isHostPage:s})]})})}}]),n}(s.Component);var Bn={addAsset:function(e){return function(){var t=Object(O.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tn.save(e);case 3:n({type:"ADD_ASSET",asset:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0,"error is");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadAssets:In,onSetMsg:He},zn=Object(i.b)((function(e){return{stays:e.stayReducer.stays,user:e.userReducer.loggedInUser}}),Bn)(Rn);function En(e){var t=e.price,n=e.rate,s=e.status,c=e.activeGuests;return Object(J.jsxs)("div",{className:"cards-container flex space-between ",children:[Object(J.jsxs)("div",{className:"card-container guests round-edge",children:[Object(J.jsxs)("div",{className:" high flex column space-between justify-end ",children:[Object(J.jsx)("div",{className:"space-between column",children:Object(J.jsx)("h1",{className:"wide book flex fw-unset clr1 justify-end",children:"Active Guests"})}),Object(J.jsx)("div",{className:"img-guest-container relative flex justify-end",children:Object(J.jsx)("span",{className:"active-guests fs32 card-num",children:c})})]}),Object(J.jsx)("div",{className:"icon-container flex align-center justify-center guests",children:Object(J.jsx)(nt.a,{className:"icon",icon:st.c})})]}),Object(J.jsxs)("div",{className:"card-container rate round-edge",children:[Object(J.jsx)("div",{className:"flex high justify-end",children:Object(J.jsxs)("div",{className:"flex space-between column",children:[Object(J.jsx)("h1",{className:"wide book fw-unset clr1 ",children:"Avg Rate"}),Object(J.jsxs)("div",{className:"flex align-center gap10 justify-center align-center",children:[Object(J.jsx)(nt.a,{className:"icon star-red",icon:st.f}),Object(J.jsx)("span",{className:"fs32 flex justify-center clr2 card-num",children:+n||0})]})]})}),Object(J.jsx)("div",{className:"icon-container flex align-center justify-center star",children:Object(J.jsx)(nt.a,{className:"icon",icon:st.f})})]}),Object(J.jsxs)("div",{className:"card-container price round-edge",children:[Object(J.jsx)("div",{className:"flex high justify-end ",children:Object(J.jsxs)("div",{className:"flex space-between column",children:[Object(J.jsx)("h1",{className:"wide book fw-unset clr1 ",children:"Month Revenue"}),Object(J.jsxs)("span",{className:"fs32 flex justify-end clr2 card-num",children:["$",t.toLocaleString("en-IL")]})]})}),Object(J.jsx)("div",{className:"icon-container flex align-center justify-center dollar",children:Object(J.jsx)(nt.a,{className:"icon",icon:st.b})})]}),Object(J.jsxs)("div",{className:"card-container status round-edge",children:[Object(J.jsxs)("div",{className:"flex high column space-between",children:[Object(J.jsx)("div",{className:"flex space-between column",children:Object(J.jsx)("h1",{className:"wide book flex  justify-end fw-unset clr1 ",children:"Status"})}),Object(J.jsxs)("div",{className:"status-info flex space-between gap5",children:[Object(J.jsx)("div",{className:"flex align-center bcg green ",children:Object(J.jsxs)("h3",{className:"fs14",children:["Approved ",s.Approved]})}),Object(J.jsx)("div",{className:"flex align-center bcg yellow",children:Object(J.jsxs)("h3",{className:"fs14",children:["Pending ",s.Pending]})}),Object(J.jsx)("div",{className:"flex align-center bcg red",children:Object(J.jsxs)("h3",{className:"fs14",children:["Declined ",s.Declined]})})]})]}),Object(J.jsx)("div",{className:"icon-container flex align-center justify-center info",children:Object(J.jsx)(nt.a,{className:"icon",icon:st.d})})]})]})}var Un=n(236),Fn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={dataToShow:null,reviews:{oneStar:0,twoStar:0,threeStar:0,fourStar:0,fiveStar:0},idx:0},e.setDataChart=function(t){var n={labels:Object.keys(t),datasets:[{label:"# of Votes",data:Object.values(t),backgroundColor:["red","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:3}]};e.setState({dataToShow:n})},e.countStarReview=function(t){var n,s=[],c=Object(ee.a)(t.reviews);try{for(c.s();!(n=c.n()).done;){var r=n.value,a=(r.rate.cleanliness+r.rate.communication+r.rate.checkin+r.rate.accuracy+r.rate.value+r.rate.location)/6;s.push(Math.floor(a))}}catch(o){c.e(o)}finally{c.f()}var i=e.setRateReview(s);e.setState({reviews:i})},e.setRateReview=function(e){var t,n={oneStar:0,twoStar:0,threeStar:0,fourStar:0,fiveStar:0},s=Object(ee.a)(e);try{for(s.s();!(t=s.n()).done;){switch(t.value){case 1:n.oneStar+=1;break;case 2:n.twoStar+=1;break;case 3:n.threeStar+=1;break;case 4:n.fourStar+=1;break;case 5:n.fiveStar+=1}}}catch(c){s.e(c)}finally{s.f()}return n},e.currAssent=function(t){var n=e.props.assets;e.setState({idx:t},Object(O.a)(x.a.mark((function s(){return x.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:e.countStarReview(n[t]),e.setDataChart(e.state.reviews);case 2:case"end":return s.stop()}}),s)}))))},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(O.a)(x.a.mark((function e(){var t,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.assets,n=this.state.idx){e.next=5;break}return e.next=5,this.countStarReview(t[n]);case 5:s=this.state.reviews,this.setDataChart(s);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.assets;return Object(J.jsxs)("div",{className:"statistic flex space-between",children:[Object(J.jsx)("div",{className:" flex column gap15 ",children:t.map((function(t,n){return Object(J.jsxs)("div",{className:"stay-statistic flex pointer gap10",onClick:function(){e.currAssent(n)},children:[Object(J.jsx)("div",{children:Object(J.jsx)("img",{src:t.imgUrls[0],alt:""})}),Object(J.jsxs)("div",{className:" flex column gap10",children:[Object(J.jsx)("h3",{className:"book fw-unset fs16 asset-header",children:t.name}),Object(J.jsx)("h3",{className:"book fw-unset fs16 asset-header",children:t.loc.address})]})]},n)}))}),Object(J.jsx)("div",{className:"pie",children:Object(J.jsx)(Un.a,{data:this.state.dataToShow})})]})}}]),n}(c.a.Component),Hn=function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(q.a)(this,n);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={asset:[],component:{isAddAsset:!1,isMyAsset:!1,isOrders:!0,isRates:!1},currAsset:"",hostDetails:{price:0,rate:0,activeGuests:0,status:{Approved:0,Pending:0,Declined:0}}},e.onCalcDetails=function(){var t=e.props,n=t.orders,s=t.assets,c={price:0,rate:0,status:{Approved:0,Pending:0,Declined:0},activeGuests:0},r=s.reduce((function(e,t){return e+t.rating}),0);if(c.rate=(r/s.length).toFixed(1),!n.length)return e.setState({hostDetails:c});n.reduce((function(e,t){return e.price+=t.price,e.status[t.status]++,"Approved"===t.status&&e.activeGuests++,e}),c),e.setState({hostDetails:c})},e.toggleComponent=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.setState({component:t,currAsset:n})},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(O.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.assets,!this.props.user){e.next=8;break}return e.next=4,this.props.loadAssets(this.props.user._id);case 4:return n={type:"host",_id:this.props.user._id},e.next=7,this.props.onLoadOrders(n);case 7:this.onCalcDetails();case 8:t.length||this.setState({component:Object(d.a)(Object(d.a)({},this.state.component),{},{isOrders:!1,isAddAsset:!0})});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.user,n=e.assets,s=this.state.hostDetails,c=s.price,r=s.rate,a=s.status,i=s.activeGuests,o=this.state.component,l=o.isAddAsset,d=o.isMyAsset,u=o.isOrders,h=o.isRates;return n?Object(J.jsx)("div",{className:"".concat(t||l?"":"host-height"," host-page"),children:Object(J.jsxs)("div",{className:"host-container",children:[Object(J.jsx)("nav",{className:"nav-bar flex justify-center",children:Object(J.jsx)(An,{isAddAsset:l,isMyAsset:d,isOrders:u,isRates:h,toggleComponent:this.toggleComponent})}),Object(J.jsx)(En,{price:c,rate:r,status:a,activeGuests:i}),(t||n.length||l)&&Object(J.jsx)("div",{className:"stay-details-container",children:Object(J.jsxs)("div",{className:"stay-details",children:[l&&Object(J.jsx)(zn,{host:t,currAsset:this.state.currAsset}),d&&n.length&&Object(J.jsx)(Cn,{toggleComponent:this.toggleComponent,assets:n}),u&&n.length&&Object(J.jsx)(Pn,{onCalcDetails:this.onCalcDetails}),h&&n.length&&Object(J.jsx)(Fn,{assets:n})]})}),!n.length&&Object(J.jsx)("div",{className:"create-asset"})]})}):Object(J.jsx)("div",{className:"flex align-center justify-center full",children:Object(J.jsx)(ye.a,{type:"ThreeDots",color:"#FF385C",height:100,width:100})})}}]),n}(s.Component);var Gn={loadAssets:In,onLoadOrders:Ce},_n=[{path:"/stay/:stayId",component:an},{path:"/stay",component:wn},{path:"/host",component:Object(i.b)((function(e){return{assets:e.hostReducer.assets,user:e.userReducer.loggedInUser,orders:e.orderReducer.orders}}),Gn)(Hn)},{path:"/trip",component:St},{path:"/",component:gt}],Wn=(n(479),n(480),n(481),function(e){Object(X.a)(n,e);var t=Object(Y.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(Q.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.location.pathname!==this.props.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props.history.location.pathname;return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ot,{}),Object(J.jsx)("main",{className:" ".concat(e.includes("/stay/")?"main-container":"main-container-home "),children:Object(J.jsx)(K.c,{children:_n.map((function(e){return Object(J.jsx)(K.a,{exact:!0,component:e.component,path:e.path},e.path)}))})}),Object(J.jsx)(dt,{})]})}}]),n}(c.a.Component)),Vn=Object(K.f)(Wn);a.a.render(Object(J.jsx)(c.a.StrictMode,{children:Object(J.jsx)(i.a,{store:_,children:Object(J.jsx)(W.a,{children:Object(J.jsx)(Vn,{})})})}),document.getElementById("root")),V()}},[[482,1,2]]]);
//# sourceMappingURL=main.766b750c.chunk.js.map